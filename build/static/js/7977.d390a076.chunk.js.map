{"version":3,"file":"static/js/7977.d390a076.chunk.js","mappings":"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","sources":["api.js","components/Navbar.js","config/api-config.js","pages/main/LoginForm.js","services/authService.js"],"sourcesContent":["import { buildApiUrl } from './config/api-config';\n\n// Handle token expiration and redirect to login\nconst handleTokenExpiration = (response, data) => {\n  const isTokenExpired = \n    response.status === 401 || \n    response.status === 403 || \n    data?.message?.toLowerCase().includes('token') ||\n    data?.message?.toLowerCase().includes('unauthorized') ||\n    data?.message?.toLowerCase().includes('expired') ||\n    data?.error?.toLowerCase().includes('token') ||\n    data?.error?.toLowerCase().includes('unauthorized');\n\n  if (isTokenExpired) {\n    // Clear expired token\n    localStorage.removeItem('token');\n    \n    // Redirect to login with return URL\n    const currentPath = window.location.pathname;\n    const returnUrl = encodeURIComponent(currentPath);\n    const message = encodeURIComponent('Your session has expired. Please log in again.');\n    \n    window.location.href = `/login?returnUrl=${returnUrl}&message=${message}`;\n    return true;\n  }\n  \n  return false;\n};\n\nexport function call_api(payload, target, method) {\n  const url = buildApiUrl(target);\n  const token = localStorage.getItem(\"token\");\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const handleResponse = async (response) => {\n    let data;\n    \n    try {\n      data = await response.json();\n    } catch (error) {\n      data = { \n        message: response.statusText || 'Unknown error',\n        status: response.status \n      };\n    }\n    \n    // Check for token expiration first\n    if (handleTokenExpiration(response, data)) {\n      const error = new Error('Token expired - redirecting to login');\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    // Handle other HTTP errors\n    if (!response.ok) {\n      const error = new Error(`HTTP ${response.status}: ${response.statusText}`);\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    return data;\n  };\n\n  const fetchOptions = {\n    method: method,\n    headers: headers,\n  };\n\n  if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method) && payload) {\n    fetchOptions.body = JSON.stringify(payload);\n  }\n\n  return fetch(url, fetchOptions).then(handleResponse);\n}","import React, { useState, useEffect } from 'react';\nimport './Navbar.css';\nimport {FaBars, FaTimes} from 'react-icons/fa';\nimport { Link, useNavigate } from 'react-router-dom';\nimport logo from '../assets/logo.png'\nimport { getCurrentUser } from \"../services/authService\";\n\n\nconst Navbar = () => {\n    const [check, setCheck] = useState(null);\n    const [click, setClick] = useState(false);\n    const [color, setColor] = useState(false);\n    const [activeDropdown, setActiveDropdown] = useState(null);\n    const navigate = useNavigate();\n  \n    const handleClick = () => setClick((prevState) => !prevState);\n  \n    const changeColor = () => {\n      if (window.scrollY >= 45) {\n        setColor(true);\n      } else {\n        setColor(false);\n      }\n    };\n  \n    window.addEventListener('scroll', changeColor);\n  \n    const scrollToTop = () => {\n      window.scrollTo(0, 0);\n      setClick(false); // Close mobile menu when clicking a link\n    };\n\n    const toggleDropdown = (index) => {\n      if (window.innerWidth <= 1100) {\n        setActiveDropdown(activeDropdown === index ? null : index);\n      }\n    };\n\n    const updateDashboard = () => {\n        window.location.href = '/dashboard';\n    };\n\n    const updateOnline = () => {\n        window.location.href = '/online-classes';\n        setClick(false); // Close mobile menu\n    };\n\n    const navigateToDashboard = (e) => {\n        e.preventDefault();\n        navigate('/dashboard');\n        setClick(false); // Close mobile menu\n    };\n    \n    const handleLogout = (e) => {\n      e.preventDefault();\n      // Clear the token from localStorage\n      localStorage.removeItem('token');\n      // Update authentication state\n      setCheck(false);\n      // Navigate to login page\n      navigate('/login');\n    };\n  \n    useEffect(() => {\n      // Check for token in localStorage first\n      const token = localStorage.getItem('token');\n      \n      if (token) {\n        // If token exists in localStorage, we consider user as logged in\n        setCheck(true);\n      } else {\n        // If no token in localStorage, check with the server\n        getCurrentUser()\n          .then((data) => {\n            if (data.success) {\n              setCheck(true);\n            } else {\n              setCheck(false);\n            }\n          })\n          .catch(() => {\n            setCheck(false);\n          });\n      }\n    }, []);\n  \n    if (check === null) {\n      return null; // Render nothing while fetching data\n    }\n  \n    return (\n        <div className={color ? 'header header-bg' : 'header'}>\n            <Link to='/'>\n                <img src={logo} alt=\"STEMz Learning\" className=\"logo\"/>\n            </Link>\n            <ul className={click ? 'nav-menu active' : 'nav-menu'}>\n                <li>\n                    <Link to='/' onClick={scrollToTop}>Home</Link>\n                </li>\n                <li>\n                    <Link to='/about-us' onClick={scrollToTop}>About Us</Link>\n                </li>\n                <li>\n                    <Link to='/online-classes' onClick={updateOnline}>Online Classes</Link>\n                </li>\n                <li className={activeDropdown === 0 ? 'active' : ''} onClick={() => toggleDropdown(0)}>\n                    <Link to='/self-paced-classes' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Self-Paced Classes\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/astronomy\" onClick={scrollToTop}>Astronomy</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/basicsofcoding\" onClick={scrollToTop}>Basics of Coding</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/biochemistry\" onClick={scrollToTop}>Biochemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/chemistry\" onClick={scrollToTop}>Chemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/circuits\" onClick={scrollToTop}>Circuits</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/environmentalscience\" onClick={scrollToTop}>Environmental Science</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/psychology\" onClick={scrollToTop}>Psychology</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/statistics\" onClick={scrollToTop}>Statistics</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/zoology\" onClick={scrollToTop}>Zoology</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/course-boxes' onClick={scrollToTop}>Course Boxes</Link>\n                </li>\n                <li>\n                    <Link to='https://substack.com/@STEMZLEARNING' onClick={scrollToTop}>News</Link>\n                </li>\n                <li className={activeDropdown === 1 ? 'active' : ''} onClick={() => toggleDropdown(1)}>\n                    <Link to='/get-involved' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Get Involved\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/volunteer\" onClick={scrollToTop}>Volunteers</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/contact' onClick={scrollToTop}>Contact</Link>\n                </li>\n                <li className=\"login-item\">\n                    {check ? (\n                        <Link to=\"/dashboard\" onClick={navigateToDashboard} className=\"login-link\">Dashboard</Link>\n                    ) : (\n                        <Link to=\"/login\" onClick={scrollToTop} className=\"login-link\">Log In</Link>\n                    )}\n                </li>\n            </ul>\n            <div className='hamburger' onClick={handleClick}>\n                {click ? (<FaTimes size={20} style={{color: 'black'}} />) : (<FaBars size={20} style={{color: 'black'}}/>)}\n            </div>\n        </div>\n    )\n}\n\nexport default Navbar;","// api-config.js\n// Centralized API base URL configuration for prod and dev.\n\n// Manual switch: set to 'dev' or 'prod'\nexport const API_ENV = 'prod'; // change to 'prod' for production\n\nconst BASES = {\n  prod: 'https://core-server-nine.vercel.app/api',\n  dev: 'http://localhost:3000/api'\n};\n\nexport const API_BASE_URL = BASES[API_ENV].replace(/\\/+$/,'');\n\nexport const buildApiUrl = (path = '') => {\n  const sanitizedPath = String(path || '').replace(/^\\/+/, '');\n  return `${API_BASE_URL}/${sanitizedPath}`;\n};\n\nexport default API_BASE_URL;\n\n\n","//LoginForm.js\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../../components/Navbar';\nimport { call_api } from '../../api' \nimport '../../components/Quiz.css'\nimport '../../components/Form.css';\nimport '../css/LoginForm.css';\n// import lightbulbImage from '../assets/lightbulb3.png'\nimport { useNavigate, Link } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\n\nconst LoginForm = () => {\n    const navigate = useNavigate();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    \n    \n    useEffect(() => {\n      const verifyToken = async () => {\n          const token = localStorage.getItem('token');\n          \n          if (!token) {\n              // No token found, stay on login page and don't redirect\n              console.error(\"no token:\", error);\n              return;\n          }\n  \n          try {\n              const response = await call_api(null, \"auth/verify\", \"POST\");\n              if (response.success) {\n                  navigate(\"/dashboard\");\n              } else {\n                  localStorage.removeItem('token');\n              }\n          } catch (error) {\n              console.error(\"Token verification failed:\", error);\n              localStorage.removeItem('token');\n          }\n      };\n  \n      verifyToken();\n  }, [navigate]);\n  \n  const submit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n  \n    try {\n      const response = await call_api({\n        email,\n        password,\n      }, \"auth/login\", \"POST\");\n  \n      if (response && response.token) {\n        localStorage.setItem('token', response.token);\n  \n        const decoded = jwtDecode(response.token);\n  \n        if (decoded.role === 'teacher') {\n          window.location.href = 'https://teachers.stemzlearning.org/';\n        } else {\n          navigate(\"/dashboard\");\n        }\n      } else {\n        setError(\"Login failed - no token received\");\n      }\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      setError(\"Invalid email or password\");\n    }\n  };  \n\n  return (\n    <div>\n    <Navbar />\n    <div className=\"login-container\">\n    <div className=\"login-card\">\n      <form className=\"login-form\" onSubmit={submit}>\n      <h1>Login</h1>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Email\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Password\"\n            required\n          />\n        </div>\n        <button type=\"submit\">Login</button>\n        <p>\n            Don't have an account? <Link to=\"/sign-up\" className=\"sign-up-link\">Sign Up</Link>\n        </p>\n        {/* Display current token for debugging \n        <div style={{fontSize: '12px', wordBreak: 'break-all', margin: '1rem'}}>\n            Current Token: {localStorage.getItem('token')}\n        </div> */}\n        {error && <div style={{color: 'red', marginBottom: '1rem'}}>{error}</div>}\n      </form>\n    </div>\n  </div>\n  </div>\n  )\n}\n\nexport default LoginForm;","import axios from 'axios';\nimport { buildApiUrl } from '../config/api-config';\nimport { jwtDecode } from 'jwt-decode';\n\nfunction authHeaders() {\n  const token = localStorage.getItem('token');\n  const headers = { 'Content-Type': 'application/json' };\n  if (token) headers['Authorization'] = `Bearer ${token}`;\n  return headers;\n}\n\nexport async function getCurrentUser() {\n  const token = localStorage.getItem('token');\n  if (!token) return { success: false };\n\n  try {\n    await axios.post(buildApiUrl('auth/verify'), {}, { headers: authHeaders() });\n    // If verify succeeded, try to decode minimal user info from token\n    let decodedUser = null;\n    try {\n      decodedUser = jwtDecode(token);\n    } catch (_) {\n      // ignore decode errors; still treat as authenticated\n    }\n    return {\n      success: true,\n      dashboardData: decodedUser ? { user: decodedUser } : undefined,\n    };\n  } catch (e) {\n    return { success: false };\n  }\n}\n\nexport async function login(payload) {\n  const res = await axios.post(buildApiUrl('auth/login'), payload, { headers: { 'Content-Type': 'application/json' } });\n  return res.data;\n}\n\nexport async function logout() {\n  // If backend supports explicit logout; otherwise, caller should clear token locally\n  const res = await axios.post(buildApiUrl('auth/logout'), {}, { headers: authHeaders() }).catch(() => ({ data: { success: true } }));\n  return res.data;\n}\n\nexport async function signup(payload) {\n  const res = await axios.post(buildApiUrl('auth/signup'), payload, { headers: { 'Content-Type': 'application/json' } });\n  return res.data;\n}\n\n\n"],"names":["handleTokenExpiration","response","data","_data$message","_data$message2","_data$message3","_data$error","_data$error2","status","message","toLowerCase","includes","error","localStorage","removeItem","currentPath","window","location","pathname","returnUrl","encodeURIComponent","href","call_api","payload","target","method","url","buildApiUrl","token","getItem","headers","fetchOptions","body","JSON","stringify","fetch","then","async","json","statusText","Error","ok","Navbar","check","setCheck","useState","click","setClick","color","setColor","activeDropdown","setActiveDropdown","navigate","useNavigate","addEventListener","changeColor","scrollY","scrollToTop","scrollTo","toggleDropdown","index","innerWidth","useEffect","getCurrentUser","success","catch","_jsxs","className","children","_jsx","Link","to","src","logo","alt","onClick","updateOnline","e","preventDefault","handleClick","prevState","FaTimes","size","style","FaBars","API_BASE_URL","replace","sanitizedPath","String","arguments","length","undefined","LoginForm","email","setEmail","password","setPassword","setError","console","verifyToken","onSubmit","setItem","jwtDecode","role","type","value","onChange","placeholder","required","marginBottom","authHeaders","axios","post","decodedUser","_","dashboardData","user"],"sourceRoot":""}