{"version":3,"file":"static/js/5117.e06fbc7e.chunk.js","mappings":"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","sources":["api.js","components/Navbar.js","config/api-config.js","pages/main/SignUpForm.js","services/authService.js"],"sourcesContent":["import { buildApiUrl } from './config/api-config';\n\n// Handle token expiration and redirect to login\nconst handleTokenExpiration = (response, data) => {\n  const isTokenExpired = \n    response.status === 401 || \n    response.status === 403 || \n    data?.message?.toLowerCase().includes('token') ||\n    data?.message?.toLowerCase().includes('unauthorized') ||\n    data?.message?.toLowerCase().includes('expired') ||\n    data?.error?.toLowerCase().includes('token') ||\n    data?.error?.toLowerCase().includes('unauthorized');\n\n  if (isTokenExpired) {\n    // Clear expired token\n    localStorage.removeItem('token');\n    \n    // Redirect to login with return URL\n    const currentPath = window.location.pathname;\n    const returnUrl = encodeURIComponent(currentPath);\n    const message = encodeURIComponent('Your session has expired. Please log in again.');\n    \n    window.location.href = `/login?returnUrl=${returnUrl}&message=${message}`;\n    return true;\n  }\n  \n  return false;\n};\n\nexport function call_api(payload, target, method) {\n  const url = buildApiUrl(target);\n  const token = localStorage.getItem(\"token\");\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const handleResponse = async (response) => {\n    let data;\n    \n    try {\n      data = await response.json();\n    } catch (error) {\n      data = { \n        message: response.statusText || 'Unknown error',\n        status: response.status \n      };\n    }\n    \n    // Check for token expiration first\n    if (handleTokenExpiration(response, data)) {\n      const error = new Error('Token expired - redirecting to login');\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    // Handle other HTTP errors\n    if (!response.ok) {\n      const error = new Error(`HTTP ${response.status}: ${response.statusText}`);\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    return data;\n  };\n\n  const fetchOptions = {\n    method: method,\n    headers: headers,\n  };\n\n  if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method) && payload) {\n    fetchOptions.body = JSON.stringify(payload);\n  }\n\n  return fetch(url, fetchOptions).then(handleResponse);\n}","import React, { useState, useEffect } from 'react';\nimport './Navbar.css';\nimport {FaBars, FaTimes} from 'react-icons/fa';\nimport { Link, useNavigate } from 'react-router-dom';\nimport logo from '../assets/logo.png'\nimport { getCurrentUser } from \"../services/authService\";\n\n\nconst Navbar = () => {\n    const [check, setCheck] = useState(null);\n    const [click, setClick] = useState(false);\n    const [color, setColor] = useState(false);\n    const [activeDropdown, setActiveDropdown] = useState(null);\n    const navigate = useNavigate();\n  \n    const handleClick = () => setClick((prevState) => !prevState);\n  \n    const changeColor = () => {\n      if (window.scrollY >= 45) {\n        setColor(true);\n      } else {\n        setColor(false);\n      }\n    };\n  \n    window.addEventListener('scroll', changeColor);\n  \n    const scrollToTop = () => {\n      window.scrollTo(0, 0);\n      setClick(false); // Close mobile menu when clicking a link\n    };\n\n    const toggleDropdown = (index) => {\n      if (window.innerWidth <= 1100) {\n        setActiveDropdown(activeDropdown === index ? null : index);\n      }\n    };\n\n    const updateDashboard = () => {\n        window.location.href = '/dashboard';\n    };\n\n    const updateOnline = () => {\n        window.location.href = '/online-classes';\n        setClick(false); // Close mobile menu\n    };\n\n    const navigateToDashboard = (e) => {\n        e.preventDefault();\n        navigate('/dashboard');\n        setClick(false); // Close mobile menu\n    };\n    \n    const handleLogout = (e) => {\n      e.preventDefault();\n      // Clear the token from localStorage\n      localStorage.removeItem('token');\n      // Update authentication state\n      setCheck(false);\n      // Navigate to login page\n      navigate('/login');\n    };\n  \n    useEffect(() => {\n      // Check for token in localStorage first\n      const token = localStorage.getItem('token');\n      \n      if (token) {\n        // If token exists in localStorage, we consider user as logged in\n        setCheck(true);\n      } else {\n        // If no token in localStorage, check with the server\n        getCurrentUser()\n          .then((data) => {\n            if (data.success) {\n              setCheck(true);\n            } else {\n              setCheck(false);\n            }\n          })\n          .catch(() => {\n            setCheck(false);\n          });\n      }\n    }, []);\n  \n    if (check === null) {\n      return null; // Render nothing while fetching data\n    }\n  \n    return (\n        <div className={color ? 'header header-bg' : 'header'}>\n            <Link to='/'>\n                <img src={logo} alt=\"STEMz Learning\" className=\"logo\"/>\n            </Link>\n            <ul className={click ? 'nav-menu active' : 'nav-menu'}>\n                <li>\n                    <Link to='/' onClick={scrollToTop}>Home</Link>\n                </li>\n                <li>\n                    <Link to='/about-us' onClick={scrollToTop}>About Us</Link>\n                </li>\n                <li>\n                    <Link to='/online-classes' onClick={updateOnline}>Online Classes</Link>\n                </li>\n                <li className={activeDropdown === 0 ? 'active' : ''} onClick={() => toggleDropdown(0)}>\n                    <Link to='/self-paced-classes' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Self-Paced Classes\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/astronomy\" onClick={scrollToTop}>Astronomy</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/basicsofcoding\" onClick={scrollToTop}>Basics of Coding</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/biochemistry\" onClick={scrollToTop}>Biochemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/chemistry\" onClick={scrollToTop}>Chemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/circuits\" onClick={scrollToTop}>Circuits</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/environmentalscience\" onClick={scrollToTop}>Environmental Science</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/psychology\" onClick={scrollToTop}>Psychology</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/statistics\" onClick={scrollToTop}>Statistics</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/zoology\" onClick={scrollToTop}>Zoology</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/course-boxes' onClick={scrollToTop}>Course Boxes</Link>\n                </li>\n                <li>\n                    <Link to='https://substack.com/@STEMZLEARNING' onClick={scrollToTop}>News</Link>\n                </li>\n                <li className={activeDropdown === 1 ? 'active' : ''} onClick={() => toggleDropdown(1)}>\n                    <Link to='/get-involved' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Get Involved\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/volunteer\" onClick={scrollToTop}>Volunteers</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/contact' onClick={scrollToTop}>Contact</Link>\n                </li>\n                <li className=\"login-item\">\n                    {check ? (\n                        <Link to=\"/dashboard\" onClick={navigateToDashboard} className=\"login-link\">Dashboard</Link>\n                    ) : (\n                        <Link to=\"/login\" onClick={scrollToTop} className=\"login-link\">Log In</Link>\n                    )}\n                </li>\n            </ul>\n            <div className='hamburger' onClick={handleClick}>\n                {click ? (<FaTimes size={20} style={{color: 'black'}} />) : (<FaBars size={20} style={{color: 'black'}}/>)}\n            </div>\n        </div>\n    )\n}\n\nexport default Navbar;","// api-config.js\n// Centralized API base URL configuration for prod and dev.\n\n// Manual switch: set to 'dev' or 'prod'\nexport const API_ENV = 'prod'; // change to 'prod' for production\n\nconst BASES = {\n  prod: 'https://core-server-nine.vercel.app/api',\n  dev: 'http://localhost:3000/api'\n};\n\nexport const API_BASE_URL = BASES[API_ENV].replace(/\\/+$/,'');\n\nexport const buildApiUrl = (path = '') => {\n  const sanitizedPath = String(path || '').replace(/^\\/+/, '');\n  return `${API_BASE_URL}/${sanitizedPath}`;\n};\n\nexport default API_BASE_URL;\n\n\n","import React, { useState } from 'react';\nimport Navbar from '../../components/Navbar';\nimport { call_api } from '../../api';\nimport '../css/SignUpForm.css';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\n\n\nconst SignUpForm = () => {\n  const navigate = useNavigate();\n\n  const [name, setName] = useState('');\n  const [gradeLevel, setGradeLevel] = useState('');\n  const [role, setRole] = useState('student'); // default to student\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  async function submit(e) {\n    e.preventDefault();\n\n    const payload = {\n      name,\n      password,\n      email,\n      role,\n    };\n\n    if (role === 'student') {\n      payload.gradeLevel = Number(gradeLevel); // ensure it's a number\n    }\n\n    try {\n      const response = await call_api(payload, 'auth/signup', 'POST');\n      if (response) {\n        // Auto-login after successful signup\n        const loginResponse = await call_api({ email, password }, 'auth/login', 'POST');\n        if (loginResponse?.token) {\n          localStorage.setItem('token', loginResponse.token);\n          const decoded = jwtDecode(loginResponse.token);\n          if (decoded.role === 'teacher') {\n            // window.location.href = 'http://localhost:3002';\n            window.location.href = 'https://teachers.stemzlearning.org/';\n          } else {\n            navigate('/dashboard');\n          }\n        } else {\n          console.log('Login after signup failed - no token received');\n        }\n      } else {\n        console.log('Signup failed - no response');\n      }\n    } catch (error) {\n      console.error('Signup failed:', error);\n    }\n  }\n\n  return (\n    <div>\n      <Navbar />\n      <div className=\"signup-container\">\n        <div className=\"signup-card\">\n          <form className=\"signup-form\" onSubmit={submit}>\n            <h1>Sign Up</h1>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Full Name\"\n                required\n              />\n            </div>\n\n            {role === 'student' && (\n              <div className=\"form-group\">\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"6\"\n                  onChange={(e) => setGradeLevel(e.target.value)}\n                  placeholder=\"Grade (1-6)\"\n                  required\n                />\n              </div>\n            )}\n\n            <div className=\"form-group\">\n              <input\n                type=\"email\"\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"Email\"\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Password\"\n                required\n              />\n            </div>\n\n              {/* Role Selection */}\n              <div className=\"form-group role-selection\">\n            <label>\n              <input\n                type=\"radio\"\n                name=\"role\"\n                value=\"student\"\n                checked={role === 'student'}\n                onChange={() => setRole('student')}\n              />\n              <span>Student</span>\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"role\"\n                value=\"teacher\"\n                checked={role === 'teacher'}\n                onChange={() => setRole('teacher')}\n              />\n              <span>Teacher</span>\n            </label>\n          </div>\n\n            <button type=\"submit\">Submit</button>\n            <p>\n              Already have an account?{' '}\n              <Link to=\"/login\" className=\"login-link4\">\n                Login\n              </Link>\n            </p>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpForm;\n","import axios from 'axios';\nimport { buildApiUrl } from '../config/api-config';\nimport { jwtDecode } from 'jwt-decode';\n\nfunction authHeaders() {\n  const token = localStorage.getItem('token');\n  const headers = { 'Content-Type': 'application/json' };\n  if (token) headers['Authorization'] = `Bearer ${token}`;\n  return headers;\n}\n\nexport async function getCurrentUser() {\n  const token = localStorage.getItem('token');\n  if (!token) return { success: false };\n\n  try {\n    await axios.post(buildApiUrl('auth/verify'), {}, { headers: authHeaders() });\n    // If verify succeeded, try to decode minimal user info from token\n    let decodedUser = null;\n    try {\n      decodedUser = jwtDecode(token);\n    } catch (_) {\n      // ignore decode errors; still treat as authenticated\n    }\n    return {\n      success: true,\n      dashboardData: decodedUser ? { user: decodedUser } : undefined,\n    };\n  } catch (e) {\n    return { success: false };\n  }\n}\n\nexport async function login(payload) {\n  const res = await axios.post(buildApiUrl('auth/login'), payload, { headers: { 'Content-Type': 'application/json' } });\n  return res.data;\n}\n\nexport async function logout() {\n  // If backend supports explicit logout; otherwise, caller should clear token locally\n  const res = await axios.post(buildApiUrl('auth/logout'), {}, { headers: authHeaders() }).catch(() => ({ data: { success: true } }));\n  return res.data;\n}\n\nexport async function signup(payload) {\n  const res = await axios.post(buildApiUrl('auth/signup'), payload, { headers: { 'Content-Type': 'application/json' } });\n  return res.data;\n}\n\n\n"],"names":["handleTokenExpiration","response","data","_data$message","_data$message2","_data$message3","_data$error","_data$error2","status","message","toLowerCase","includes","error","localStorage","removeItem","currentPath","window","location","pathname","returnUrl","encodeURIComponent","href","call_api","payload","target","method","url","buildApiUrl","token","getItem","headers","fetchOptions","body","JSON","stringify","fetch","then","async","json","statusText","Error","ok","Navbar","check","setCheck","useState","click","setClick","color","setColor","activeDropdown","setActiveDropdown","navigate","useNavigate","addEventListener","changeColor","scrollY","scrollToTop","scrollTo","toggleDropdown","index","innerWidth","useEffect","getCurrentUser","success","catch","_jsxs","className","children","_jsx","Link","to","src","logo","alt","onClick","updateOnline","e","preventDefault","handleClick","prevState","FaTimes","size","style","FaBars","API_BASE_URL","replace","sanitizedPath","String","arguments","length","undefined","SignUpForm","name","setName","gradeLevel","setGradeLevel","role","setRole","email","setEmail","password","setPassword","onSubmit","Number","loginResponse","setItem","jwtDecode","console","log","type","onChange","value","placeholder","required","min","max","checked","authHeaders","axios","post","decodedUser","_","dashboardData","user"],"sourceRoot":""}