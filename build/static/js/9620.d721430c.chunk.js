(self.webpackChunkstemz_new=self.webpackChunkstemz_new||[]).push([[9620],{2768:e=>{e.exports={call_api:function(e,t,s){const o="https://core-server-nine.vercel.app/api/"+t,n=localStorage.getItem("token"),i={"Content-Type":"application/json"};n&&(i.Authorization=`Bearer ${n}`);const r={method:s,headers:i};return["POST","PUT","PATCH","DELETE"].includes(s)&&e&&(r.body=JSON.stringify(e)),fetch(o,r).then((async e=>{let t;try{t=await e.json()}catch(s){t={message:e.statusText||"Unknown error",status:e.status}}if(((e,t)=>{var s,o,n,i,r;if(401===e.status||403===e.status||(null===t||void 0===t||null===(s=t.message)||void 0===s?void 0:s.toLowerCase().includes("token"))||(null===t||void 0===t||null===(o=t.message)||void 0===o?void 0:o.toLowerCase().includes("unauthorized"))||(null===t||void 0===t||null===(n=t.message)||void 0===n?void 0:n.toLowerCase().includes("expired"))||(null===t||void 0===t||null===(i=t.error)||void 0===i?void 0:i.toLowerCase().includes("token"))||(null===t||void 0===t||null===(r=t.error)||void 0===r?void 0:r.toLowerCase().includes("unauthorized"))){localStorage.removeItem("token");const e=window.location.pathname,t=encodeURIComponent(e),s=encodeURIComponent("Your session has expired. Please log in again.");return window.location.href=`/login?returnUrl=${t}&message=${s}`,!0}return!1})(e,t)){const s=new Error("Token expired - redirecting to login");throw s.response={status:e.status,statusText:e.statusText,data:t},s}if(!e.ok){const s=new Error(`HTTP ${e.status}: ${e.statusText}`);throw s.response={status:e.status,statusText:e.statusText,data:t},s}return t}))}}},9620:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var o=s(5043),n=s(3153),i=s(3216),r=s(2768),a=s(579);const l=["Elephants","Lion","Crocodile","Horses"],c=["Mosquito","Cheetah","Giraffe","Birds"],d=[{value:"mutualism",label:"Mutualism (both benefit)",color:"#90EE90"},{value:"commensalism",label:"Commensalism (one benefits, other neutral)",color:"#87CEEB"},{value:"predation",label:"Predation (one eats other)",color:"#FFB6C1"},{value:"parasitism",label:"Parasitism (one benefits, other is harmed)",color:"#DDA0DD"},{value:"competition",label:"Competition (competing for resources)",color:"#F0E68C"},{value:"neutralism",label:"Neutralism (unaffected by each other)",color:"#D3D3D3"}],p={"Elephants-Mosquito":"parasitism","Elephants-Cheetah":"neutralism","Elephants-Giraffe":"competition","Elephants-Birds":"commensalism","Lion-Mosquito":"parasitism","Lion-Cheetah":"competition","Lion-Giraffe":"predation","Lion-Birds":"neutralism","Crocodile-Mosquito":"parasitism","Crocodile-Cheetah":"neutralism","Crocodile-Giraffe":"predation","Crocodile-Birds":"commensalism","Horses-Mosquito":"parasitism","Horses-Cheetah":"predation","Horses-Giraffe":"competition","Horses-Birds":"mutualism"},u="Elephants";function h(){const e=(0,i.Zp)(),[t,s]=(0,o.useState)({}),[h,x]=(0,o.useState)(null),[g,f]=(0,o.useState)(!1),[m,b]=(0,o.useState)({}),[y,v]=(0,o.useState)(!1),[j,k]=(0,o.useState)(null),[w,C]=(0,o.useState)(!0),[S,E]=(0,o.useState)(!1),[T,R]=(0,o.useState)(!1),[B,I]=(0,o.useState)(0),[$,O]=(0,o.useState)(""),P="lesson4",A="zoology",F=(0,o.useRef)(null),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;O(e),F.current&&clearTimeout(F.current),F.current=setTimeout((()=>O("")),t)};(0,o.useEffect)((()=>{(async()=>{if(localStorage.getItem("token"))try{const t=await(0,r.call_api)(null,"auth/verify","POST");t&&t.success?(E(!0),C(!1)):(localStorage.removeItem("token"),e("/login"))}catch(t){console.error("Token verification error:",t),localStorage.removeItem("token"),e("/login")}else e("/login")})()}),[e]),(0,o.useEffect)((()=>{if(!S)return;(async()=>{try{const e=await(0,r.call_api)(null,"points","GET");if(e){if(k(e),e.courses&&e.courses[A]){const t=e.courses[A].lessons[P];if(t&&t.activities&&t.activities.worksheet){const e=t.activities.worksheet.completed||!1,s=t.activities.worksheet.earned||0;R(e),I(s)}}C(!1)}}catch(e){console.error("Error fetching course progress:",e),C(!1)}})()}),[S,A,P]);const z=(e,s)=>{const o=`${e}-${s}`;return t[o]===p[o]};return w?(0,a.jsx)("div",{style:{minHeight:"100vh",background:"white",margin:0,padding:"32px",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},children:(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsx)("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #357717",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 2s linear infinite",margin:"0 auto 20px"}}),(0,a.jsx)("p",{children:"Loading worksheet content..."}),(0,a.jsx)("style",{children:"\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          "})]})}):(0,a.jsxs)("div",{style:{minHeight:"100vh",background:"white",margin:"0",padding:"32px",fontFamily:"Arial, sans-serif",position:"relative"},children:[$&&(0,a.jsx)("div",{style:{position:"fixed",top:"150px",right:"20px",padding:"10px 15px",backgroundColor:$.includes("Error")?"rgba(231, 76, 60, 0.8)":"#357717",color:"white",borderRadius:"5px",fontWeight:"bold",zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.2)",animation:"fadeIn 0.3s ease-out",fontSize:"16px"},children:$}),(0,a.jsx)("button",{onClick:()=>{window.history.back()},style:{position:"absolute",top:"20px",left:"20px",color:"white",border:"none",borderRadius:"50%",background:y?"#3cb371":"#357717",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",fontSize:"36px",fontWeight:"bold",transform:y?"scale(0.9)":"scale(1)"},onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:"\u2190"}),(0,a.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,a.jsx)("img",{src:n,alt:"STEMZ Learning",style:{maxWidth:"300px",display:"block",margin:"0 auto 30px"}}),(0,a.jsx)("h1",{style:{color:"#254E17",fontSize:"48px",marginBottom:"10px",fontFamily:"Orbitron, sans-serif",textAlign:"center"},children:"Animal Behaviors"}),(0,a.jsx)("h2",{style:{color:"#357717",fontSize:"36px",marginBottom:"30px",fontFamily:"Orbitron, sans-serif",textAlign:"center"},children:"Zoology: Lesson 4"}),(0,a.jsxs)("div",{style:{marginBottom:"20px",padding:"10px 15px",borderRadius:"5px",backgroundColor:"#f0f0f0",textAlign:"center",borderLeft:T?"4px solid #3cb371":"4px solid #ccc"},children:[(0,a.jsx)("span",{style:{fontWeight:"bold",marginRight:"15px",color:"#333333"},children:"Worksheet:"}),(0,a.jsx)("span",{style:{color:T?"#3cb371":"#666666",fontWeight:T?"bold":"normal"},children:T?"Completed":"Not Completed"}),(0,a.jsxs)("span",{style:{marginLeft:"15px",color:"#555555"},children:["(",B," ",1===B?"point":"points",")"]})]}),(0,a.jsxs)("div",{style:{marginBottom:"30px",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,a.jsx)("h3",{style:{marginTop:0},children:"Instructions:"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Identify the symbiotic relationship between the animals.",(0,a.jsx)("ul",{children:(0,a.jsx)("li",{children:"In each box, select the symbiotic relationship between the animals in each row/column."})})]}),(0,a.jsx)("li",{children:"Click on the animal that is most likely to be a keystone species."})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"30px",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,a.jsx)("h3",{style:{marginTop:0},children:"Helpful Definitions:"}),(0,a.jsx)("h4",{children:"Symbiotic relationships:"}),d.map((e=>(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[(0,a.jsx)("div",{style:{width:"20px",height:"20px",marginRight:"10px",borderRadius:"4px",backgroundColor:e.color}}),(0,a.jsx)("div",{children:e.label})]},e.value))),(0,a.jsx)("h4",{children:"Keystone species: a species that other species in the ecosystem depend on a lot"})]}),(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"30px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{padding:"15px",border:"1px solid #ddd",backgroundColor:"#f5f5f5",textAlign:"center"},children:"Safari Ecosystem"}),c.map((e=>(0,a.jsx)("th",{style:{padding:"15px",border:"1px solid #ddd",backgroundColor:"#f5f5f5",textAlign:"center"},children:e},e)))]})}),(0,a.jsx)("tbody",{children:l.map((e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{padding:"15px",border:"1px solid #ddd",cursor:"pointer",transition:"all 0.3s ease",...h===e?{backgroundColor:"#FFD700",fontWeight:"bold"}:{},...g&&h===e?h===u?{background:"linear-gradient(#e8f5e9, #e8f5e9), #FFD700"}:{background:"linear-gradient(#ffebee, #ffebee), #FFD700"}:{}},onClick:()=>{return t=e,void(g||x(t));var t},children:e}),c.map((o=>{var n;const i=`${e}-${o}`,r=t[i],l=r?null===(n=d.find((e=>e.value===r)))||void 0===n?void 0:n.color:"white";return(0,a.jsx)("td",{style:{padding:"15px",border:"1px solid #ddd",position:"relative",transition:"all 0.3s ease",background:g?`linear-gradient(${m[i]?"#e8f5e9":"#ffebee"}, ${m[i]?"#e8f5e9":"#ffebee"}), ${l}`:l},children:(0,a.jsxs)("select",{style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"transparent"},value:r||"",onChange:t=>((e,t,o)=>{g||s((s=>({...s,[`${e}-${t}`]:o})))})(e,o,t.target.value),disabled:g,children:[(0,a.jsx)("option",{value:"",children:"Select relationship..."}),d.map((e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value)))]})},o)}))]},e)))})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"30px",marginBottom:"30px"},children:[(0,a.jsx)("button",{onClick:()=>{var e;if(Object.keys(t).length<l.length*c.length||!h){const e={};return l.forEach((s=>{c.forEach((o=>{const n=`${s}-${o}`;t[n]&&(e[n]=z(s,o))}))})),b(e),void f(!0)}const s={};l.forEach((e=>{c.forEach((t=>{s[`${e}-${t}`]=z(e,t)}))})),b(s),f(!0);let o=0;Object.values(s).forEach((e=>{e&&o++})),h===u&&o++;const n=l.length*c.length+1,i=Math.round(o/n*5);R(!0),I(i);const a={...j};a.courses||(a.courses={}),a.courses[A]||(a.courses[A]={lessons:{},title:"Zoology"}),a.courses[A].lessons||(a.courses[A].lessons={}),a.courses[A].lessons[P]||(a.courses[A].lessons[P]={activities:{},title:"Animal Behaviors"}),a.courses[A].lessons[P].activities||(a.courses[A].lessons[P].activities={});const d=a.courses[A].lessons[P].activities.worksheet||{},p=Math.max(i,d.earned||0);a.courses[A].lessons[P].activities.worksheet={completed:!0,earned:p,points:5,type:"worksheet",title:"Animal Behaviors"},a.courses[A].lessons[P].lessonPoints=p,null!==(e=a.courses[A].lessons[P].activities.video)&&void 0!==e&&e.completed&&(a.courses[A].lessons[P].completed=!0);let x=0;Object.values(a.courses[A].lessons).forEach((e=>{x+=e.lessonPoints||0})),a.courses[A].coursePoints=x;let g=0;Object.values(a.courses).forEach((e=>{g+=e.coursePoints||0})),a.totalPoints=g,(0,r.call_api)(a,"points","POST").then((e=>{e&&(k(a),L(`\u2713 Progress saved! You've earned ${i} points!`,3e3))})).catch((e=>{console.error("Update error:",e),L("\u274c Error saving progress",3e3)}))},style:{padding:"12px 25px",fontSize:"16px",color:"white",border:"none",borderRadius:"5px",cursor:g?"default":"pointer",transition:"all 0.3s ease",backgroundColor:g?"#cccccc":"#3cb371"},disabled:g,children:"Check Answers"}),(0,a.jsx)("button",{onClick:()=>{s({}),x(null),f(!1),b({})},style:{padding:"12px 25px",fontSize:"16px",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:"#CF3434"},children:"Reset"})]}),g&&(0,a.jsxs)("div",{style:{marginTop:"30px",textAlign:"center",padding:"15px",backgroundColor:Object.values(m).every(Boolean)&&h===u?"#e8f5e9":"#ffebee",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",marginBottom:"30px"},children:[(0,a.jsx)("p",{style:{color:Object.values(m).every(Boolean)&&h===u?"#3cb371":"#CF3434",fontSize:"18px",fontWeight:"bold",marginBottom:"10px"},children:Object.keys(t).length?Object.keys(t).length<l.length*c.length?"Please fill in all relationships and keystone species.":h?Object.values(m).every(Boolean)&&h===u?"Congratulations! All answers are correct!":"Some answers are incorrect. Review the highlighted answers.":"Please select a keystone species before checking.":"Please fill in all relationships and keystone species."}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[(0,a.jsxs)("div",{style:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"#f5f5f5",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"28px",fontWeight:"bold",color:"#357717",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[(()=>{if(!g)return 0;if(0===Object.keys(m).length)return 0;const e=l.length*c.length+1;let t=0;return Object.values(m).forEach((e=>{e&&t++})),h===u&&t++,Math.round(t/e*100)})(),"%"]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"5px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Your Score:"})," ",B," out of 5 points"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{display:"inline-block",width:"12px",height:"12px",backgroundColor:"#e8f5e9",marginRight:"5px",borderRadius:"2px"}}),"Correct answers"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{display:"inline-block",width:"12px",height:"12px",backgroundColor:"#ff90ee",marginRight:"5px",borderRadius:"2px"}}),"Incorrect answers"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{display:"inline-block",width:"12px",height:"12px",backgroundColor:"#FFD700",marginRight:"5px",borderRadius:"2px"}}),"Selected keystone species"]})]})]})]})]}),(0,a.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes fadeOut {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n        }\n      "})]})}},3153:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/logo.c9017c166767dbbf195a.png"}}]);
//# sourceMappingURL=9620.d721430c.chunk.js.map