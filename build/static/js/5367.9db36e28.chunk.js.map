{"version":3,"file":"static/js/5367.9db36e28.chunk.js","mappings":"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","sources":["api.js","pages/biochemistry/BiochemWorksheet.js"],"sourcesContent":["const CORE_API_URL = \"https://core-server-nine.vercel.app\";\n\n// FOR LOCAL BACKEND DEVELOPMENTS\n// const CORE_API_URL = \"http://localhost:3000\";\n\n// Handle token expiration and redirect to login\nconst handleTokenExpiration = (response, data) => {\n  const isTokenExpired = \n    response.status === 401 || \n    response.status === 403 || \n    data?.message?.toLowerCase().includes('token') ||\n    data?.message?.toLowerCase().includes('unauthorized') ||\n    data?.message?.toLowerCase().includes('expired') ||\n    data?.error?.toLowerCase().includes('token') ||\n    data?.error?.toLowerCase().includes('unauthorized');\n\n  if (isTokenExpired) {\n    // Clear expired token\n    localStorage.removeItem('token');\n    \n    // Redirect to login with return URL\n    const currentPath = window.location.pathname;\n    const returnUrl = encodeURIComponent(currentPath);\n    const message = encodeURIComponent('Your session has expired. Please log in again.');\n    \n    window.location.href = `/login?returnUrl=${returnUrl}&message=${message}`;\n    return true;\n  }\n  \n  return false;\n};\n\nfunction call_api(payload, target, method) {\n  const url = CORE_API_URL + \"/api/\" + target;\n  const token = localStorage.getItem(\"token\");\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const handleResponse = async (response) => {\n    let data;\n    \n    try {\n      data = await response.json();\n    } catch (error) {\n      data = { \n        message: response.statusText || 'Unknown error',\n        status: response.status \n      };\n    }\n    \n    // Check for token expiration first\n    if (handleTokenExpiration(response, data)) {\n      const error = new Error('Token expired - redirecting to login');\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    // Handle other HTTP errors\n    if (!response.ok) {\n      const error = new Error(`HTTP ${response.status}: ${response.statusText}`);\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    return data;\n  };\n\n  const fetchOptions = {\n    method: method,\n    headers: headers,\n  };\n\n  if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method) && payload) {\n    fetchOptions.body = JSON.stringify(payload);\n  }\n\n  return fetch(url, fetchOptions).then(handleResponse);\n}\n\nmodule.exports = { call_api };","import React, { useState, useEffect, useCallback } from \"react\";\nimport stemzLearningLogo from \"../../assets/logo.png\";\nimport { call_api } from \"../../api\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst BiochemistryLesson = () => {\n  const [isProteinsExpanded, setIsProteinsExpanded] = useState(false);\n  const [isCarbohydratesExpanded, setIsCarbohydratesExpanded] = useState(false);\n  const [isHovering, setIsHovering] = useState(false);\n\n  // Add new state variables for worksheet points system\n  const [completionTimer, setCompletionTimer] = useState(null);\n  const [completed, setCompleted] = useState(false);\n  const [completionStatus, setCompletionStatus] = useState(\n    \"Please stay on this page & continue reading to earn worksheet points...\"\n  );\n  const [countdown, setCountdown] = useState(300);\n  const [showStatusMessage, setShowStatusMessage] = useState(true);\n  const [statusFading, setStatusFading] = useState(false);\n  const navigate = useNavigate();\n\n  // Constants\n  const courseKey = \"biochemistry\";\n  const lessonNumber = \"lesson2\";\n  const WORKSHEET_POINTS = 5;\n\n  // Log function for debugging\n  const log = (message) => {\n    const timestamp = new Date().toLocaleTimeString();\n    console.log(`[WS ${timestamp}] ${message}`);\n  };\n\n  const toggleProteins = () => setIsProteinsExpanded((prev) => !prev);\n  const toggleCarbohydrates = () => setIsCarbohydratesExpanded((prev) => !prev);\n\n  // Countdown timer effect\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => {\n        setCountdown(countdown - 1);\n        setCompletionStatus(\n          `Please stay on this page & continue reading to earn worksheet points... (${countdown}s)`\n        );\n      }, 1000);\n\n      return () => clearTimeout(timer);\n    } else if (countdown === 0) {\n      // When countdown reaches 0, mark as completed\n      markWorksheetAsCompleted();\n    }\n  }, [countdown]);\n\n  // Auto-complete the worksheet after countdown reaches 0\n  useEffect(() => {\n    log(\"Worksheet loaded, countdown started\");\n\n    // Cleanup function\n    return () => {\n      log(\"Cleaning up timers\");\n      if (completionTimer) {\n        clearTimeout(completionTimer);\n      }\n    };\n  }, []);\n\n  // Function to fade out status message\n  const fadeOutStatusMessage = () => {\n    setStatusFading(true);\n    setTimeout(() => {\n      setShowStatusMessage(false);\n      setStatusFading(false);\n    }, 500); // Match this to the CSS transition time\n  };\n\n  // Function to mark worksheet as completed and update backend\n  const markWorksheetAsCompleted = async () => {\n    if (completed) return;\n\n    log(\"Marking worksheet as completed\");\n    setCompleted(true);\n    setCompletionStatus(\"✓ Marking worksheet as completed...\");\n\n    try {\n      // Get current progress data\n      log(\"Fetching current progress data\");\n      const userProgress = await call_api(null, \"points\", \"GET\");\n\n      if (!userProgress) {\n        log(\"No user progress data returned\");\n        setCompletionStatus(\"❌ Error: Could not fetch user progress\");\n\n        // Fade out after showing error for a bit longer\n        setTimeout(() => fadeOutStatusMessage(), 30000);\n        return;\n      }\n\n      log(\"Progress data received, updating worksheet completion\");\n\n      // Create a deep clone of the userProgress\n      const updatedProgress = JSON.parse(JSON.stringify(userProgress));\n\n      // Ensure all needed objects exist\n      if (!updatedProgress.courses[courseKey]) {\n        updatedProgress.courses[courseKey] = { lessons: {} };\n      }\n\n      if (!updatedProgress.courses[courseKey].lessons[lessonNumber]) {\n        updatedProgress.courses[courseKey].lessons[lessonNumber] = {\n          activities: {},\n        };\n      }\n\n      if (\n        !updatedProgress.courses[courseKey].lessons[lessonNumber].activities\n      ) {\n        updatedProgress.courses[courseKey].lessons[lessonNumber].activities =\n          {};\n      }\n\n      // Ensure worksheet activity exists\n      if (\n        !updatedProgress.courses[courseKey].lessons[lessonNumber].activities\n          .worksheet\n      ) {\n        updatedProgress.courses[courseKey].lessons[\n          lessonNumber\n        ].activities.worksheet = {};\n      }\n\n      // Update worksheet progress\n      updatedProgress.courses[courseKey].lessons[\n        lessonNumber\n      ].activities.worksheet.completed = true;\n      updatedProgress.courses[courseKey].lessons[\n        lessonNumber\n      ].activities.worksheet.earned = WORKSHEET_POINTS;\n\n      // Update lesson points\n      const videoPoints =\n        updatedProgress.courses[courseKey].lessons[lessonNumber].activities\n          .video?.earned || 0;\n      updatedProgress.courses[courseKey].lessons[lessonNumber].lessonPoints =\n        videoPoints + WORKSHEET_POINTS;\n\n      // Check if lesson is completed\n      const isVideoCompleted =\n        updatedProgress.courses[courseKey].lessons[lessonNumber].activities\n          .video?.completed || false;\n      updatedProgress.courses[courseKey].lessons[lessonNumber].completed =\n        isVideoCompleted;\n\n      // Recalculate course points\n      let coursePoints = 0;\n      Object.values(updatedProgress.courses[courseKey].lessons).forEach(\n        (lesson) => {\n          coursePoints += lesson.lessonPoints || 0;\n        }\n      );\n      updatedProgress.courses[courseKey].coursePoints = coursePoints;\n\n      // Check if course is completed\n      const allLessonsCompleted = Object.values(\n        updatedProgress.courses[courseKey].lessons\n      ).every((lesson) => lesson.completed);\n      updatedProgress.courses[courseKey].completed = allLessonsCompleted;\n\n      // Recalculate total points\n      let totalPoints = 0;\n      Object.values(updatedProgress.courses).forEach((course) => {\n        totalPoints += course.coursePoints || 0;\n      });\n      updatedProgress.totalPoints = totalPoints;\n\n      log(\"Sending updated progress to backend\");\n      setCompletionStatus(\"✓ Saving progress...\");\n\n      // Send to backend\n      const response = await call_api(updatedProgress, \"points\", \"POST\");\n\n      if (response) {\n        log(\"Points updated successfully\");\n        setCompletionStatus(\"✓ Worksheet completed! (5 points earned)\");\n\n        // Fade out the status message after 300 seconds\n        setTimeout(() => fadeOutStatusMessage(), 30000);\n      }\n    } catch (error) {\n      console.error(\"Error updating worksheet completion:\", error);\n      setCompletionStatus(\"❌ Error updating progress\");\n\n      // Fade out after showing error for a bit longer\n      setTimeout(() => fadeOutStatusMessage(), 30000);\n    }\n  };\n\n  const handleGoBack = () => {\n    log(\"Back button clicked\");\n\n    // Ensure worksheet is marked as completed before navigating back\n    if (!completed) {\n      // markWorksheetAsCompleted();\n    }\n\n    // Wait briefly to ensure the update has been sent\n    setTimeout(() => {\n      window.history.back();\n    }, 500);\n  };\n\n  const styles = {\n    container: {\n      minHeight: \"100vh\",\n      background: \"white\",\n      margin: \"0\",\n      padding: \"32px\",\n      fontFamily: \"Arial, sans-serif\",\n      position: \"relative\",\n    },\n    content: {\n      maxWidth: \"896px\",\n      margin: \"0 auto\",\n    },\n    logo: {\n      maxWidth: \"300px\",\n      marginBottom: \"30px\",\n      display: \"block\",\n      margin: \"0 auto 30px\",\n    },\n    title: {\n      color: \"#254E17\",\n      fontSize: \"48px\",\n      marginBottom: \"10px\",\n      fontFamily: \"Orbitron, sans-serif\",\n      textAlign: \"center\",\n    },\n    subtitle: {\n      color: \"#357717\",\n      fontSize: \"36px\",\n      marginBottom: \"30px\",\n      fontFamily: \"Orbitron, sans-serif\",\n      textAlign: \"center\",\n    },\n    backButton: {\n      position: \"absolute\",\n      top: \"20px\",\n      left: \"20px\",\n      color: \"white\",\n      border: \"none\",\n      borderRadius: \"50%\",\n      background: isHovering ? \"#3cb371\" : \"#357717\",\n      width: \"60px\",\n      height: \"60px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\",\n      transition: \"all 0.3s ease\",\n      fontSize: \"36px\",\n      fontWeight: \"bold\",\n      transform: isHovering ? \"scale(0.9)\" : \"scale(1)\",\n    },\n    sectionStyle: {\n      backgroundColor: \"white\",\n      borderRadius: \"8px\",\n      boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n      marginBottom: \"24px\",\n      overflow: \"hidden\",\n    },\n    buttonStyle: {\n      width: \"100%\",\n      textAlign: \"left\",\n      padding: \"20px\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      background: \"linear-gradient(to right, #357717, #254E17)\",\n      color: \"white\",\n      border: \"none\",\n      cursor: \"pointer\",\n    },\n    arrowStyle: (isExpanded) => ({\n      width: \"10px\",\n      height: \"10px\",\n      borderTop: \"2px solid white\",\n      borderRight: \"2px solid white\",\n      transform: isExpanded ? \"rotate(-135deg)\" : \"rotate(45deg)\",\n    }),\n    contentStyle: {\n      padding: \"24px\",\n      backgroundColor: \"#f9f9f9\",\n      borderBottom: \"4px solid #357717\",\n    },\n    // Add completion status style\n    completionStatus: {\n      position: \"fixed\",\n      top: \"20px\",\n      right: \"20px\",\n      padding: \"10px 15px\",\n      backgroundColor: completed\n        ? \"rgba(53, 119, 23, 0.8)\"\n        : \"rgba(41, 128, 185, 0.8)\",\n      color: \"white\",\n      borderRadius: \"5px\",\n      fontWeight: \"bold\",\n      zIndex: 1000,\n      boxShadow: \"0 2px 10px rgba(0,0,0,0.2)\",\n      fontSize: \"16px\",\n      opacity: statusFading ? 0 : 1,\n      transform: statusFading ? \"translateY(-10px)\" : \"translateY(0)\",\n      transition: \"opacity 0.5s ease, transform 0.5s ease\",\n      display: showStatusMessage ? \"block\" : \"none\",\n    },\n  };\n\n  const Section = ({ title, content, isExpanded, onToggle }) => (\n    <div style={styles.sectionStyle}>\n      <button style={styles.buttonStyle} onClick={onToggle}>\n        <h3 style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>{title}</h3>\n        <div style={styles.arrowStyle(isExpanded)}></div>\n      </button>\n      {isExpanded && <div style={styles.contentStyle}>{content}</div>}\n    </div>\n  );\n\n  const ListItem = ({ children }) => (\n    <li\n      style={{\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        marginBottom: \"12px\",\n        color: \"#444\",\n        fontSize: \"16px\",\n        lineHeight: \"1.5\",\n      }}\n    >\n      <div\n        style={{\n          flexShrink: 0,\n          width: \"8px\",\n          height: \"8px\",\n          marginTop: \"8px\",\n          marginRight: \"12px\",\n          borderRadius: \"50%\",\n          backgroundColor: \"#254E17\",\n        }}\n      ></div>\n      <span>{children}</span>\n    </li>\n  );\n\n  const headingStyle = {\n    fontSize: \"20px\",\n    fontWeight: \"600\",\n    marginBottom: \"16px\",\n    color: \"#357717\",\n  };\n\n  return (\n    <div style={styles.container}>\n      <button\n        onClick={handleGoBack}\n        style={styles.backButton}\n        onMouseEnter={() => setIsHovering(true)}\n        onMouseLeave={() => setIsHovering(false)}\n      >\n        &#8592;\n      </button>\n\n      {/* Completion status notification */}\n      <div style={styles.completionStatus}>{completionStatus}</div>\n\n      <div style={styles.content}>\n        <img src={stemzLearningLogo} alt=\"STEMZ Learning\" style={styles.logo} />\n        <h1 style={styles.title}>Proteins and Carbohydrates</h1>\n        <h2 style={styles.subtitle}>Biochemistry: Lesson 2</h2>\n\n        <Section\n          title=\"Proteins\"\n          isExpanded={isProteinsExpanded}\n          onToggle={toggleProteins}\n          content={\n            <div style={{ color: \"#374151\" }}>\n              <div style={{ marginBottom: \"24px\" }}>\n                <h4 style={headingStyle}>What are proteins?</h4>\n                <p style={{ lineHeight: \"1.5\" }}>\n                  Proteins are long chains of amino acids. There are thousands\n                  of different proteins in the human body. They provide all\n                  sorts of functions to help us survive.\n                </p>\n              </div>\n\n              <div style={{ marginBottom: \"24px\" }}>\n                <h4 style={headingStyle}>What are amino acids?</h4>\n                <p style={{ lineHeight: \"1.5\" }}>\n                  Amino acids are special organic molecules used by living\n                  organisms to make proteins. The main elements in amino acids\n                  are carbon, hydrogen, oxygen, and nitrogen. There are twenty\n                  different kinds of amino acids that combine to make proteins\n                  in our bodies. Our bodies can actually make some amino acids,\n                  but the rest we must get from our food.\n                </p>\n              </div>\n\n              <div>\n                <h4 style={headingStyle}>Different Types of Proteins</h4>\n                <ul style={{ listStyleType: \"none\", padding: 0 }}>\n                  <ListItem>\n                    <strong>Structural</strong> - Many proteins provide\n                    structure for our bodies. This includes collagen which is\n                    found in cartilage and tendons.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Defensive</strong> - Proteins help protect us from\n                    diseases. They make up antibodies that fight off foreign\n                    invaders such as bacteria and other toxic substances.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Transport</strong> - Proteins can help to carry\n                    essential nutrients around our bodies. One example is\n                    hemoglobin which carries oxygen in our red blood cells.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Catalysts</strong> - Some proteins, such as enzymes,\n                    act as catalysts to assist in chemical reactions. They help\n                    us to break up and digest our food so it can be used by our\n                    cells.\n                  </ListItem>\n                </ul>\n              </div>\n            </div>\n          }\n        />\n\n        <Section\n          title=\"Carbohydrates\"\n          isExpanded={isCarbohydratesExpanded}\n          onToggle={toggleCarbohydrates}\n          content={\n            <div style={{ color: \"#374151\" }}>\n              <div style={{ marginBottom: \"24px\" }}>\n                <h4 style={headingStyle}>What do they do?</h4>\n                <p style={{ lineHeight: \"1.5\" }}>\n                  Carbohydrates are important to the daily lives of living\n                  organisms. They store energy (starches), provide energy for\n                  cells (glucose), and provide structure to plants and some\n                  animals.\n                </p>\n              </div>\n\n              <div>\n                <h4 style={headingStyle}>Types of Carbohydrates</h4>\n                <p style={{ marginBottom: \"16px\", lineHeight: \"1.5\" }}>\n                  Carbohydrates are sometimes referred to as saccharides. The\n                  different types of carbohydrates all have the word\n                  \"saccharide\" in them.\n                </p>\n                <ul style={{ listStyleType: \"none\", padding: 0 }}>\n                  <ListItem>\n                    <strong>Monosaccharides</strong> - Monosaccharides are the\n                    simplest form of carbohydrates. They include sugars such as\n                    glucose and fructose. Monosaccharides often taste sweet and\n                    dissolve in water. Glucose is a common carbohydrate found in\n                    plants and is the main product of photosynthesis.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Disaccharides</strong> - Disaccharides are formed\n                    from two Monosaccharides. They are also known as sugars such\n                    as sucrose and lactose. Lactose is the carbohydrate found in\n                    milk.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Oligosaccharides</strong> - Oligosaccharides are\n                    formed from a small number (usually three to six) of\n                    monosaccharides.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Polysaccharides</strong> - Polysaccharides are long\n                    carbohydrate molecules. They are often called complex\n                    carbohydrates.\n                  </ListItem>\n                </ul>\n                <h4 style={headingStyle}>\n                  {\" \"}\n                  There are four important types of complex carbohydrates:\n                </h4>\n                <ul style={{ listStyleType: \"none\", padding: 0 }}>\n                  <ListItem>\n                    <strong>Starches</strong> - Starches are a way that many\n                    plants store energy. We can then eat starches and our bodies\n                    will use the energy.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Glycogen</strong> - Animals use glycogen to store\n                    energy. It is stored in the liver and the muscles to be used\n                    when needed.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Cellulose</strong> - Cellulose is used in plants as\n                    a structural molecule. It can't be digested by animals.\n                  </ListItem>\n                  <ListItem>\n                    <strong>Chitin</strong> - Chitin is used as a structural\n                    molecule in fungi and arthropods.\n                  </ListItem>\n                </ul>\n              </div>\n            </div>\n          }\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BiochemistryLesson;\n"],"names":["module","exports","call_api","payload","target","method","url","CORE_API_URL","token","localStorage","getItem","headers","fetchOptions","includes","body","JSON","stringify","fetch","then","async","data","response","json","error","message","statusText","status","handleTokenExpiration","_data$message","_data$message2","_data$message3","_data$error","_data$error2","toLowerCase","removeItem","currentPath","window","location","pathname","returnUrl","encodeURIComponent","href","Error","ok","BiochemistryLesson","isProteinsExpanded","setIsProteinsExpanded","useState","isCarbohydratesExpanded","setIsCarbohydratesExpanded","isHovering","setIsHovering","completionTimer","setCompletionTimer","completed","setCompleted","completionStatus","setCompletionStatus","countdown","setCountdown","showStatusMessage","setShowStatusMessage","statusFading","setStatusFading","courseKey","useNavigate","lessonNumber","log","timestamp","Date","toLocaleTimeString","console","useEffect","timer","setTimeout","clearTimeout","markWorksheetAsCompleted","fadeOutStatusMessage","_updatedProgress$cour","_updatedProgress$cour2","userProgress","updatedProgress","parse","courses","lessons","activities","worksheet","earned","videoPoints","video","lessonPoints","isVideoCompleted","coursePoints","Object","values","forEach","lesson","allLessonsCompleted","every","totalPoints","course","styles","container","minHeight","background","margin","padding","fontFamily","position","content","maxWidth","logo","marginBottom","display","title","color","fontSize","textAlign","subtitle","backButton","top","left","border","borderRadius","width","height","alignItems","justifyContent","cursor","transition","fontWeight","transform","sectionStyle","backgroundColor","boxShadow","overflow","buttonStyle","arrowStyle","isExpanded","borderTop","borderRight","contentStyle","borderBottom","right","zIndex","opacity","Section","_ref","onToggle","_jsxs","style","children","onClick","_jsx","ListItem","_ref2","lineHeight","flexShrink","marginTop","marginRight","headingStyle","handleGoBack","history","back","onMouseEnter","onMouseLeave","src","stemzLearningLogo","alt","toggleProteins","prev","listStyleType","toggleCarbohydrates"],"sourceRoot":""}