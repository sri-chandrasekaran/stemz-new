"use strict";(self.webpackChunkstemz_new=self.webpackChunkstemz_new||[]).push([[5117],{2768:(e,s,n)=>{n.d(s,{E:()=>l});var t=n(3658);const o=(e,s)=>{var n,t,o,l,i;if(401===e.status||403===e.status||(null===s||void 0===s||null===(n=s.message)||void 0===n?void 0:n.toLowerCase().includes("token"))||(null===s||void 0===s||null===(t=s.message)||void 0===t?void 0:t.toLowerCase().includes("unauthorized"))||(null===s||void 0===s||null===(o=s.message)||void 0===o?void 0:o.toLowerCase().includes("expired"))||(null===s||void 0===s||null===(l=s.error)||void 0===l?void 0:l.toLowerCase().includes("token"))||(null===s||void 0===s||null===(i=s.error)||void 0===i?void 0:i.toLowerCase().includes("unauthorized"))){localStorage.removeItem("token");const e=window.location.pathname,s=encodeURIComponent(e),n=encodeURIComponent("Your session has expired. Please log in again.");return window.location.href=`/login?returnUrl=${s}&message=${n}`,!0}return!1};function l(e,s,n){const l=(0,t.KB)(s),i=localStorage.getItem("token"),r={"Content-Type":"application/json"};i&&(r.Authorization=`Bearer ${i}`);const a={method:n,headers:r};return["POST","PUT","PATCH","DELETE"].includes(n)&&e&&(a.body=JSON.stringify(e)),fetch(l,a).then((async e=>{let s;try{s=await e.json()}catch(n){s={message:e.statusText||"Unknown error",status:e.status}}if(o(e,s)){const n=new Error("Token expired - redirecting to login");throw n.response={status:e.status,statusText:e.statusText,data:s},n}if(!e.ok){const n=new Error(`HTTP ${e.status}: ${e.statusText}`);throw n.response={status:e.status,statusText:e.statusText,data:s},n}return s}))}},8468:(e,s,n)=>{n.d(s,{A:()=>d});var t=n(5043),o=n(2774),l=n(3216),i=n(5475),r=n(3153),a=n(8816),c=n(579);const d=()=>{const[e,s]=(0,t.useState)(null),[n,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[x,m]=(0,t.useState)(null),p=(0,l.Zp)();window.addEventListener("scroll",(()=>{window.scrollY>=45?h(!0):h(!1)}));const g=()=>{window.scrollTo(0,0),d(!1)},j=e=>{window.innerWidth<=1100&&m(x===e?null:e)};return(0,t.useEffect)((()=>{localStorage.getItem("token")?s(!0):(0,a.HW)().then((e=>{e.success?s(!0):s(!1)})).catch((()=>{s(!1)}))}),[]),null===e?null:(0,c.jsxs)("div",{className:u?"header header-bg":"header",children:[(0,c.jsx)(i.N_,{to:"/",children:(0,c.jsx)("img",{src:r,alt:"STEMz Learning",className:"logo"})}),(0,c.jsxs)("ul",{className:n?"nav-menu active":"nav-menu",children:[(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/",onClick:g,children:"Home"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/about-us",onClick:g,children:"About Us"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/online-classes",onClick:()=>{window.location.href="/online-classes",d(!1)},children:"Online Classes"})}),(0,c.jsxs)("li",{className:0===x?"active":"",onClick:()=>j(0),children:[(0,c.jsx)(i.N_,{to:"/self-paced-classes",onClick:e=>window.innerWidth<=1100&&e.preventDefault(),children:"Self-Paced Classes"}),(0,c.jsxs)("ul",{className:"dropdown-menu",children:[(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/astronomy",onClick:g,children:"Astronomy"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/basicsofcoding",onClick:g,children:"Basics of Coding"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/biochemistry",onClick:g,children:"Biochemistry"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/chemistry",onClick:g,children:"Chemistry"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/circuits",onClick:g,children:"Circuits"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/environmentalscience",onClick:g,children:"Environmental Science"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/psychology",onClick:g,children:"Psychology"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/statistics",onClick:g,children:"Statistics"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/zoology",onClick:g,children:"Zoology"})})]})]}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/course-boxes",onClick:g,children:"Course Boxes"})}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"https://substack.com/@STEMZLEARNING",onClick:g,children:"News"})}),(0,c.jsxs)("li",{className:1===x?"active":"",onClick:()=>j(1),children:[(0,c.jsx)(i.N_,{to:"/get-involved",onClick:e=>window.innerWidth<=1100&&e.preventDefault(),children:"Get Involved"}),(0,c.jsx)("ul",{className:"dropdown-menu",children:(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/volunteer",onClick:g,children:"Volunteers"})})})]}),(0,c.jsx)("li",{children:(0,c.jsx)(i.N_,{to:"/contact",onClick:g,children:"Contact"})}),(0,c.jsx)("li",{className:"login-item",children:e?(0,c.jsx)(i.N_,{to:"/dashboard",onClick:e=>{e.preventDefault(),p("/dashboard"),d(!1)},className:"login-link",children:"Dashboard"}):(0,c.jsx)(i.N_,{to:"/login",onClick:g,className:"login-link",children:"Log In"})})]}),(0,c.jsx)("div",{className:"hamburger",onClick:()=>d((e=>!e)),children:n?(0,c.jsx)(o.QCr,{size:20,style:{color:"black"}}):(0,c.jsx)(o.OXb,{size:20,style:{color:"black"}})})]})}},3658:(e,s,n)=>{n.d(s,{KB:()=>o});const t="https://core-server-nine.vercel.app/api".replace(/\/+$/,""),o=function(){const e=String((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"").replace(/^\/+/,"");return`${t}/${e}`}},5117:(e,s,n)=>{n.r(s),n.d(s,{default:()=>d});var t=n(5043),o=n(8468),l=n(2768),i=n(3216),r=n(5475),a=n(4420),c=n(579);const d=()=>{const e=(0,i.Zp)(),[s,n]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,x]=(0,t.useState)("student"),[m,p]=(0,t.useState)(""),[g,j]=(0,t.useState)("");return(0,c.jsxs)("div",{children:[(0,c.jsx)(o.A,{}),(0,c.jsx)("div",{className:"signup-container",children:(0,c.jsx)("div",{className:"signup-card",children:(0,c.jsxs)("form",{className:"signup-form",onSubmit:async function(n){n.preventDefault();const t={name:s,password:g,email:m,role:h};"student"===h&&(t.gradeLevel=Number(d));try{if(await(0,l.E)(t,"auth/signup","POST")){const s=await(0,l.E)({email:m,password:g},"auth/login","POST");if(null!==s&&void 0!==s&&s.token){localStorage.setItem("token",s.token);"teacher"===(0,a.s)(s.token).role?window.location.href="https://teachers.stemzlearning.org/":e("/dashboard")}else console.log("Login after signup failed - no token received")}else console.log("Signup failed - no response")}catch(o){console.error("Signup failed:",o)}},children:[(0,c.jsx)("h1",{children:"Sign Up"}),(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{type:"text",onChange:e=>n(e.target.value),placeholder:"Full Name",required:!0})}),"student"===h&&(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{type:"number",min:"1",max:"6",onChange:e=>u(e.target.value),placeholder:"Grade (1-6)",required:!0})}),(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{type:"email",onChange:e=>p(e.target.value),placeholder:"Email",required:!0})}),(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{type:"password",onChange:e=>j(e.target.value),placeholder:"Password",required:!0})}),(0,c.jsxs)("div",{className:"form-group role-selection",children:[(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"radio",name:"role",value:"student",checked:"student"===h,onChange:()=>x("student")}),(0,c.jsx)("span",{children:"Student"})]}),(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"radio",name:"role",value:"teacher",checked:"teacher"===h,onChange:()=>x("teacher")}),(0,c.jsx)("span",{children:"Teacher"})]})]}),(0,c.jsx)("button",{type:"submit",children:"Submit"}),(0,c.jsxs)("p",{children:["Already have an account?"," ",(0,c.jsx)(r.N_,{to:"/login",className:"login-link4",children:"Login"})]})]})})})]})}},8816:(e,s,n)=>{n.d(s,{HW:()=>r});var t=n(6213),o=n(3658),l=n(4420);function i(){const e=localStorage.getItem("token"),s={"Content-Type":"application/json"};return e&&(s.Authorization=`Bearer ${e}`),s}async function r(){const e=localStorage.getItem("token");if(!e)return{success:!1};try{await t.A.post((0,o.KB)("auth/verify"),{},{headers:i()});let n=null;try{n=(0,l.s)(e)}catch(s){}return{success:!0,dashboardData:n?{user:n}:void 0}}catch(n){return{success:!1}}}},3153:(e,s,n)=>{e.exports=n.p+"static/media/logo.c9017c166767dbbf195a.png"}}]);
//# sourceMappingURL=5117.e06fbc7e.chunk.js.map