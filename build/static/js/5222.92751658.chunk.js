(self.webpackChunkstemz_new=self.webpackChunkstemz_new||[]).push([[5222],{2768:e=>{e.exports={call_api:function(e,t,s){const o="https://core-server-nine.vercel.app/api/"+t,n=localStorage.getItem("token"),r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`);const i={method:s,headers:r};return["POST","PUT","PATCH","DELETE"].includes(s)&&e&&(i.body=JSON.stringify(e)),fetch(o,i).then((async e=>{let t;try{t=await e.json()}catch(s){t={message:e.statusText||"Unknown error",status:e.status}}if(((e,t)=>{var s,o,n,r,i;if(401===e.status||403===e.status||(null===t||void 0===t||null===(s=t.message)||void 0===s?void 0:s.toLowerCase().includes("token"))||(null===t||void 0===t||null===(o=t.message)||void 0===o?void 0:o.toLowerCase().includes("unauthorized"))||(null===t||void 0===t||null===(n=t.message)||void 0===n?void 0:n.toLowerCase().includes("expired"))||(null===t||void 0===t||null===(r=t.error)||void 0===r?void 0:r.toLowerCase().includes("token"))||(null===t||void 0===t||null===(i=t.error)||void 0===i?void 0:i.toLowerCase().includes("unauthorized"))){localStorage.removeItem("token");const e=window.location.pathname,t=encodeURIComponent(e),s=encodeURIComponent("Your session has expired. Please log in again.");return window.location.href=`/login?returnUrl=${t}&message=${s}`,!0}return!1})(e,t)){const s=new Error("Token expired - redirecting to login");throw s.response={status:e.status,statusText:e.statusText,data:t},s}if(!e.ok){const s=new Error(`HTTP ${e.status}: ${e.statusText}`);throw s.response={status:e.status,statusText:e.statusText,data:t},s}return t}))}}},5222:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var o=s(5043),n=s(3153),r=s(3216),i=s(2768);var a=s(579);const l=()=>(0,a.jsx)("div",{style:{minHeight:"100vh",background:"white",margin:0,padding:"32px",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},children:(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsx)("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #357717",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 2s linear infinite",margin:"0 auto 20px"}}),(0,a.jsx)("p",{children:"Loading worksheet content..."}),(0,a.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})}),d=e=>{let{message:t}=e;return t?(0,a.jsxs)("div",{style:{position:"fixed",top:"150px",right:"20px",padding:"10px 15px",backgroundColor:t.includes("Error")?"rgba(231, 76, 60, 0.8)":"#357717",color:"white",borderRadius:"5px",fontWeight:"bold",zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.2)",animation:"fadeIn 0.3s ease-out",fontSize:"16px"},children:[t,(0,a.jsx)("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n      "})]}):null},c=()=>{const[e,t]=(0,o.useState)(!1);return(0,a.jsx)("button",{onClick:()=>window.history.back(),style:{position:"absolute",top:"20px",left:"20px",color:"white",border:"none",borderRadius:"50%",background:e?"#3cb371":"#357717",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",fontSize:"36px",fontWeight:"bold",transform:e?"scale(0.9)":"scale(1)"},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:"\u2190"})},p=async(e,t,s,o,n,r)=>{var a;const l={...e};l.courses||(l.courses={}),l.courses[t]||(l.courses[t]={lessons:{},title:t.charAt(0).toUpperCase()+t.slice(1)}),l.courses[t].lessons||(l.courses[t].lessons={}),l.courses[t].lessons[s]||(l.courses[t].lessons[s]={activities:{},title:n}),l.courses[t].lessons[s].activities||(l.courses[t].lessons[s].activities={}),l.courses[t].lessons[s].activities.worksheet={completed:!0,earned:o,points:5,type:"worksheet",title:n},l.courses[t].lessons[s].lessonPoints=o,null!==(a=l.courses[t].lessons[s].activities.video)&&void 0!==a&&a.completed&&(l.courses[t].lessons[s].completed=!0);let d=0;Object.values(l.courses[t].lessons).forEach((e=>{d+=e.lessonPoints||0})),l.courses[t].coursePoints=d;let c=0;Object.values(l.courses).forEach((e=>{c+=e.coursePoints||0})),l.totalPoints=c;try{if(await(0,i.call_api)(l,"points","POST"))return r(`\u2713 Progress saved! You've earned ${o} points!`,3e3),l}catch(p){return console.error("Update error:",p),r("\u274c Error saving progress",3e3),null}},u=[{id:"flower",name:"Flower",image:"\ud83c\udf3b\ud83c\udf37"},{id:"squirrel",name:"Squirrel",image:"\ud83d\udc3f\ufe0f\ud83d\udc3f\ufe0f"},{id:"clover",name:"Clover",image:"\u2618\ufe0f\ud83c\udf40"},{id:"bird",name:"Bird",image:"\ud83d\udc26\u200d\u2b1b\ud83d\udc26"},{id:"pinecone",name:"Pinecone",image:"\ud83c\udf32\ud83c\udf30"},{id:"bee",name:"Bee",image:"\ud83d\udc1d\ud83d\udc1d"},{id:"tree",name:"Tree",image:"\ud83c\udf33\ud83c\udf34"},{id:"rock",name:"Rock",image:"\ud83e\udea8\ud83e\udea8"},{id:"grass",name:"Grass",image:"\ud83c\udf31\ud83c\udf3f"},{id:"water",name:"Water",image:"\ud83d\udca7\ud83c\udf27\ufe0f"},{id:"nest",name:"Nest",image:"\ud83e\udeb9\ud83e\udeba"},{id:"ant",name:"Ant",image:"\ud83d\udc1c\ud83d\udc1c"}],x=["What item was the most difficult to find?","Which item was the easiest to find?","How many of these objects have you seen before?","While doing the scavenger hunt, how many different animals did you find?"];function h(){const[e,t]=(0,o.useState)({}),[s,h]=(0,o.useState)({}),[g,m]=(0,o.useState)(!1),{userProgress:f,setUserProgress:v,loading:b,worksheetCompleted:w,setWorksheetCompleted:y,pointsEarned:k,setPointsEarned:j,statusMessage:S,showStatus:C}=function(e,t){const s=(0,r.Zp)(),[n,a]=(0,o.useState)(null),[l,d]=(0,o.useState)(!0),[c,p]=(0,o.useState)(!1),[u,x]=(0,o.useState)(!1),[h,g]=(0,o.useState)(0),[m,f]=(0,o.useState)(""),v=(0,o.useRef)(null);return(0,o.useEffect)((()=>{(async()=>{if(localStorage.getItem("token"))try{const e=await(0,i.call_api)(null,"auth/verify","POST");e&&e.success?(p(!0),d(!1)):(localStorage.removeItem("token"),s("/login"))}catch(e){console.error("Token verification error:",e),localStorage.removeItem("token"),s("/login")}else s("/login")})()}),[s]),(0,o.useEffect)((()=>{c&&(async()=>{try{const o=await(0,i.call_api)(null,"points","GET");if(o){if(a(o),o.courses&&o.courses[e]){var s;const n=o.courses[e].lessons[t];null!==n&&void 0!==n&&null!==(s=n.activities)&&void 0!==s&&s.worksheet&&(x(n.activities.worksheet.completed||!1),g(n.activities.worksheet.earned||0))}d(!1)}}catch(o){console.error("Error fetching course progress:",o),d(!1)}})()}),[c,e,t]),{userProgress:n,setUserProgress:a,loading:l,worksheetCompleted:u,setWorksheetCompleted:x,pointsEarned:h,setPointsEarned:g,statusMessage:m,showStatus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;f(e),v.current&&clearTimeout(v.current),v.current=setTimeout((()=>f("")),t)}}}("environmentalScience","lesson1");return b?(0,a.jsx)(l,{}):(0,a.jsxs)("div",{style:{minHeight:"100vh",background:"white",margin:"0",padding:"32px",fontFamily:"Arial, sans-serif",position:"relative"},children:[(0,a.jsx)(d,{message:S}),(0,a.jsx)(c,{}),(0,a.jsxs)("div",{style:{maxWidth:"896px",margin:"0 auto"},children:[(0,a.jsx)("img",{src:n,alt:"STEMZ Learning",style:{maxWidth:"300px",display:"block",margin:"0 auto 30px"}}),(0,a.jsx)("h1",{style:{color:"#254E17",fontSize:"48px",marginBottom:"10px",fontFamily:"Orbitron, sans-serif",textAlign:"center"},children:"Nature Scavenger Hunt"}),(0,a.jsx)("h2",{style:{color:"#357717",fontSize:"36px",marginBottom:"30px",fontFamily:"Orbitron, sans-serif",textAlign:"center"},children:"Environmental Science: Lesson 1"}),(0,a.jsxs)("div",{style:{marginBottom:"20px",padding:"10px 15px",borderRadius:"5px",backgroundColor:"#f0f0f0",textAlign:"center",borderLeft:w?"4px solid #3cb371":"4px solid #ccc"},children:[(0,a.jsx)("span",{style:{fontWeight:"bold",marginRight:"15px",color:"#333333"},children:"Worksheet:"}),(0,a.jsx)("span",{style:{color:w?"#3cb371":"#666666",fontWeight:w?"bold":"normal"},children:w?"Completed":"Not Completed"}),(0,a.jsxs)("span",{style:{marginLeft:"15px",color:"#555555"},children:["(",k," ",1===k?"point":"points",")"]})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"20px",marginBottom:"30px"},children:[(0,a.jsx)("h3",{children:"Instructions:"}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Option 1: Fill out the online worksheet"})}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Find each item on the list provided."}),(0,a.jsx)("li",{children:"Check off each item on the worksheet once you find them."}),(0,a.jsx)("li",{children:"Answer the reflection questions after completing your hunt."}),(0,a.jsx)("li",{children:"Click \"I've completed this worksheet\" when you're done to earn points."})]}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Option 2: Prefer a paper copy? Download the printable version below"})}),(0,a.jsx)("button",{onClick:()=>{window.open("https://docs.google.com/document/d/e/2PACX-1vRUirVOL8YLkxol0nTrImCblQ0sB-Xu2LbLwvxLluYWSEPicxO7NpKWZ8avM_bjvTNsYJUGGffU_w8m/pub","_blank")},style:{backgroundColor:"#357717",color:"white",padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",display:"block",margin:"20px auto",fontSize:"14px",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Download PDF Version"})]}),(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginTop:"20px"},children:u.map((s=>(0,a.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",textAlign:"center",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[(0,a.jsx)("div",{style:{fontSize:"40px",marginBottom:"10px"},children:s.image}),(0,a.jsx)("div",{children:s.name}),(0,a.jsx)("input",{type:"checkbox",checked:e[s.id]||!1,onChange:()=>{return e=s.id,void t((t=>({...t,[e]:!t[e]})));var e},style:{width:"20px",height:"20px",margin:"10px auto 0"}})]},s.id)))}),(0,a.jsxs)("div",{style:{marginTop:"40px",backgroundColor:"#f9f9f9",borderRadius:"10px",padding:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,a.jsx)("h3",{children:"Reflection:"}),x.map(((e,t)=>(0,a.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,a.jsxs)("label",{children:[t+1,". ",e]}),(0,a.jsx)("input",{type:"text",value:s[t]||"",onChange:e=>{return s=t,o=e.target.value,void h((e=>({...e,[s]:o})));var s,o},style:{width:"100%",padding:"8px",marginTop:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]},t)))]}),(0,a.jsx)("button",{onClick:async()=>{y(!0),j(5);const e=await p(f,"environmentalScience","lesson1",5,"Nature Scavenger Hunt",C);e&&v(e)},disabled:w,style:{backgroundColor:w?"#cccccc":"#3cb371",color:"white",padding:"15px 30px",borderRadius:"5px",border:"none",cursor:w?"default":"pointer",display:"block",margin:"40px auto 20px",fontSize:"18px",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 8px rgba(0,0,0,0.15)"},children:w?"Worksheet Completed \u2713":"I've completed this worksheet"}),w&&(0,a.jsx)("p",{style:{textAlign:"center",color:"#3cb371",marginTop:"10px",fontSize:"18px",fontWeight:"bold"},children:"Great job completing this activity! You've earned all 5 points."})]})]})}},3153:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/logo.c9017c166767dbbf195a.png"}}]);
//# sourceMappingURL=5222.92751658.chunk.js.map