"use strict";(self.webpackChunkstemz_new=self.webpackChunkstemz_new||[]).push([[5109],{3474:(e,o,s)=>{s.r(o),s.d(o,{default:()=>i});var t=s(5043),r=s(2168),n=s(2768),l=s(579);const i=()=>{const[e,o]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),c="circuits";return(0,t.useEffect)((()=>{(async()=>{try{console.log("Step 1: Getting user info from auth/verify");const e=await(0,n.E)(null,"auth/verify","POST");if(console.log("Auth verify response:",e),!e||!e.user)return void console.error("Could not get user info");console.log("Step 2: Getting user details with ID:",e.user.id);const s=await(0,n.E)(null,`users/id/${e.user.id}`,"GET");if(console.log("User details response:",s),!s)return void console.error("Could not fetch user details");if(!s.gradeLevel)return void console.error("User has no grade field. User object:",s);const t=s.gradeLevel;console.log(`Step 3: User grade found: ${t}`),console.log(`Step 4: Fetching BPQ questions for course: ${c}, lesson: 2, grade: ${t}`);const r=await(0,n.E)(null,`bpqquestions?course_id=${c}&lesson_id=2&grade=${t}`,"GET");if(console.log("BPQ API response:",r),r&&r.questions){const e=r.questions.map((e=>({text:e.questionText,time:e.timeInVideo})));o(e),console.log(`Loaded ${e.length} BPQ questions for grade ${t}`)}else console.log("No BPQ questions found for this grade level")}catch(e){console.error("Error fetching BPQs:",e)}finally{i(!1)}})()}),[c,"2"]),s?(0,l.jsx)("div",{children:"Loading video lesson..."}):(0,l.jsx)(r.A,{lessonTitle:"Lesson 2: More Circuit Board Tools",lessonNumber:"lesson2",courseKey:"circuits",videoUrl:"4ZBUoBPdojA",slideshowUrl:"https://docs.google.com/presentation/d/e/2PACX-1vQKXKuhKmKYY8iKcw7S5N_hMPgAoFGbFCE-_9j_bFp-z7HQUGweO7n1c8sHpm2m3sIrRgrBUs1it6XG/pub?start=false&loop=false&delayms=3000",worksheetPath:"/circuitworksheet",quizPath:null,notesUrl:"https://docs.google.com/document/d/e/2PACX-1vR6wstmAy6lQMQ_lXFke4YQUb3cb6htepWdwPYoNeqKA0AcpUNmSHHtDZQkdLxlEOZ4wrME-t2Kf3UB/pub",notesLabel:"Parent Notes",maxVideoPoints:7,worksheetPoints:5,completionThreshold:95,isParentVersion:!0,bpqQuestions:e})}}}]);
//# sourceMappingURL=5109.e1db0457.chunk.js.map