{"version":3,"file":"static/js/7977.c37c7101.chunk.js","mappings":"mFA6FAA,EAAOC,QAAU,CAAEC,SA7DnB,SAAkBC,EAASC,EAAQC,GACjC,MAAMC,EAAMC,2CAAyBH,EAC/BI,EAAQC,aAAaC,QAAQ,SAE7BC,EAAU,CACd,eAAgB,oBAGdH,IACFG,EAAuB,cAAI,UAAUH,KAGvC,MAqCMI,EAAe,CACnBP,OAAQA,EACRM,QAASA,GAOX,MAJI,CAAC,OAAQ,MAAO,QAAS,UAAUE,SAASR,IAAWF,IACzDS,EAAaE,KAAOC,KAAKC,UAAUb,IAG9Bc,MAAMX,EAAKM,GAAcM,MA9CTC,UACrB,IAAIC,EAEJ,IACEA,QAAaC,EAASC,MACxB,CAAE,MAAOC,GACPH,EAAO,CACLI,QAASH,EAASI,YAAc,gBAChCC,OAAQL,EAASK,OAErB,CAGA,GAnD0BC,EAACN,EAAUD,KAAU,IAADQ,EAAAC,EAAAC,EAAAC,EAAAC,EAUhD,GARsB,MAApBX,EAASK,QACW,MAApBL,EAASK,SACL,OAAJN,QAAI,IAAJA,GAAa,QAATQ,EAAJR,EAAMI,eAAO,IAAAI,OAAT,EAAJA,EAAeK,cAAcpB,SAAS,YAClC,OAAJO,QAAI,IAAJA,GAAa,QAATS,EAAJT,EAAMI,eAAO,IAAAK,OAAT,EAAJA,EAAeI,cAAcpB,SAAS,mBAClC,OAAJO,QAAI,IAAJA,GAAa,QAATU,EAAJV,EAAMI,eAAO,IAAAM,OAAT,EAAJA,EAAeG,cAAcpB,SAAS,cAClC,OAAJO,QAAI,IAAJA,GAAW,QAAPW,EAAJX,EAAMG,aAAK,IAAAQ,OAAP,EAAJA,EAAaE,cAAcpB,SAAS,YAChC,OAAJO,QAAI,IAAJA,GAAW,QAAPY,EAAJZ,EAAMG,aAAK,IAAAS,OAAP,EAAJA,EAAaC,cAAcpB,SAAS,iBAElB,CAElBJ,aAAayB,WAAW,SAGxB,MAAMC,EAAcC,OAAOC,SAASC,SAC9BC,EAAYC,mBAAmBL,GAC/BX,EAAUgB,mBAAmB,kDAGnC,OADAJ,OAAOC,SAASI,KAAO,oBAAoBF,aAAqBf,KACzD,CACT,CAEA,OAAO,CAAK,EA4BNG,CAAsBN,EAAUD,GAAO,CACzC,MAAMG,EAAQ,IAAImB,MAAM,wCAMxB,MALAnB,EAAMF,SAAW,CACfK,OAAQL,EAASK,OACjBD,WAAYJ,EAASI,WACrBL,KAAMA,GAEFG,CACR,CAGA,IAAKF,EAASsB,GAAI,CAChB,MAAMpB,EAAQ,IAAImB,MAAM,QAAQrB,EAASK,WAAWL,EAASI,cAM7D,MALAF,EAAMF,SAAW,CACfK,OAAQL,EAASK,OACjBD,WAAYJ,EAASI,WACrBL,KAAMA,GAEFG,CACR,CAEA,OAAOH,CAAI,GAaf,E,wHCpFA,MAwKA,EAxKewB,KACX,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,OAC5BC,EAAOC,IAAYF,EAAAA,EAAAA,WAAS,IAC5BG,EAAOC,IAAYJ,EAAAA,EAAAA,WAAS,IAC5BK,EAAgBC,IAAqBN,EAAAA,EAAAA,UAAS,MAC/CO,GAAWC,EAAAA,EAAAA,MAYjBnB,OAAOoB,iBAAiB,UARJC,KACdrB,OAAOsB,SAAW,GACpBP,GAAS,GAETA,GAAS,EACX,IAKF,MAAMQ,EAAcA,KAClBvB,OAAOwB,SAAS,EAAG,GACnBX,GAAS,EAAM,EAGXY,EAAkBC,IAClB1B,OAAO2B,YAAc,MACvBV,EAAkBD,IAAmBU,EAAQ,KAAOA,EACtD,EAsDF,OA1BAE,EAAAA,EAAAA,YAAU,KAEMvD,aAAaC,QAAQ,SAIjCoC,GAAS,GAGTmB,EAAAA,EACGC,IAAI,0CAA2C,CAC9CC,iBAAiB,IAElBjD,MAAMG,IACDA,EAASD,KAAKgD,QAChBtB,GAAS,GAETA,GAAS,EACX,IAEDuB,OAAM,KACLvB,GAAS,EAAM,GAErB,GACC,IAEW,OAAVD,EACK,MAILyB,EAAAA,EAAAA,MAAA,OAAKC,UAAWrB,EAAQ,mBAAqB,SAASsB,SAAA,EAClDC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,IAAGH,UACRC,EAAAA,EAAAA,KAAA,OAAKG,IAAKC,EAAMC,IAAI,iBAAiBP,UAAU,YAEnDD,EAAAA,EAAAA,MAAA,MAAIC,UAAWvB,EAAQ,kBAAoB,WAAWwB,SAAA,EAClDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,IAAII,QAASpB,EAAYa,SAAC,YAEvCC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,YAAYI,QAASpB,EAAYa,SAAC,gBAE/CC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,kBAAkBI,QAhEtBC,KACjB5C,OAAOC,SAASI,KAAO,kBACvBQ,GAAS,EAAM,EA8D8CuB,SAAC,sBAEtDF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnBnB,EAAuB,SAAW,GAAI2B,QAASA,IAAMlB,EAAe,GAAGW,SAAA,EAClFC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,sBAAsBI,QAAUE,GAAM7C,OAAO2B,YAAc,MAAQkB,EAAEC,iBAAiBV,SAAC,wBAGhGF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,gBAAeC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,aAAaI,QAASpB,EAAYa,SAAC,iBAEhDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,kBAAkBI,QAASpB,EAAYa,SAAC,wBAErDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,gBAAgBI,QAASpB,EAAYa,SAAC,oBAEnDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,aAAaI,QAASpB,EAAYa,SAAC,iBAEhDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,YAAYI,QAASpB,EAAYa,SAAC,gBAE/CC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,wBAAwBI,QAASpB,EAAYa,SAAC,6BAE3DC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,cAAcI,QAASpB,EAAYa,SAAC,kBAEjDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,cAAcI,QAASpB,EAAYa,SAAC,kBAEjDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,WAAWI,QAASpB,EAAYa,SAAC,qBAItDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,gBAAgBI,QAASpB,EAAYa,SAAC,oBAEnDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,sCAAsCI,QAASpB,EAAYa,SAAC,YAEzEF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnBnB,EAAuB,SAAW,GAAI2B,QAASA,IAAMlB,EAAe,GAAGW,SAAA,EAClFC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,gBAAgBI,QAAUE,GAAM7C,OAAO2B,YAAc,MAAQkB,EAAEC,iBAAiBV,SAAC,kBAG1FC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,gBAAeC,UACzBC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,aAAaI,QAASpB,EAAYa,SAAC,uBAIxDC,EAAAA,EAAAA,KAAA,MAAAD,UACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,WAAWI,QAASpB,EAAYa,SAAC,eAE9CC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,aAAYC,SACrB3B,GACG4B,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,aAAaI,QApHbE,IACzBA,EAAEC,iBACF5B,EAAS,cACTL,GAAS,EAAM,EAiHqDsB,UAAU,aAAYC,SAAC,eAE3EC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,SAASI,QAASpB,EAAaY,UAAU,aAAYC,SAAC,iBAI3EC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAYQ,QA1JfI,IAAMlC,GAAUmC,IAAeA,IA0JKZ,SAC3CxB,GAASyB,EAAAA,EAAAA,KAACY,EAAAA,IAAO,CAACC,KAAM,GAAIC,MAAO,CAACrC,MAAO,YAAiBuB,EAAAA,EAAAA,KAACe,EAAAA,IAAM,CAACF,KAAM,GAAIC,MAAO,CAACrC,MAAO,eAEhG,C,6ICjKd,MAiGA,EAjGkBuC,KACd,MAAMnC,GAAWC,EAAAA,EAAAA,OACVmC,EAAOC,IAAY5C,EAAAA,EAAAA,UAAS,KAC5B6C,EAAUC,IAAe9C,EAAAA,EAAAA,UAAS,KAClCxB,EAAOuE,IAAY/C,EAAAA,EAAAA,UAAS,KAGnCiB,EAAAA,EAAAA,YAAU,KACY7C,WAGhB,GAFcV,aAAaC,QAAQ,SAQnC,WAC2BR,EAAAA,EAAAA,UAAS,KAAM,cAAe,SACxCkE,QACTd,EAAS,cAET7C,aAAayB,WAAW,QAEhC,CAAE,MAAOX,GACLwE,QAAQxE,MAAM,6BAA8BA,GAC5Cd,aAAayB,WAAW,QAC5B,MAdI6D,QAAQxE,MAAM,YAAaA,EAc/B,EAGJyE,EAAa,GACd,CAAC1C,IAyBJ,OACEgB,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACAC,EAAAA,EAAAA,KAAC7B,EAAAA,EAAM,KACP6B,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAChCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,aAAa0B,SA5BhB9E,UACb8D,EAAEC,iBACFY,EAAS,IAET,IACI,MAAMzE,QAAiBnB,EAAAA,EAAAA,UAAS,CAC5BwF,QACAE,YACD,aAAc,QAEbvE,GAAYA,EAASb,OACrBC,aAAayF,QAAQ,QAAS7E,EAASb,OAEvC8C,EAAS,eAETwC,EAAS,mCAEjB,CAAE,MAAOvE,GACLwE,QAAQxE,MAAM,gBAAiBA,GAC/BuE,EAAS,4BACb,GAQ8CtB,SAAA,EAC9CC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,WACFC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBC,EAAAA,EAAAA,KAAA,SACE0B,KAAK,QACLC,MAAOV,EACPW,SAAWpB,GAAMU,EAASV,EAAE7E,OAAOgG,OACnCE,YAAY,QACZC,UAAQ,OAGZ9B,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBC,EAAAA,EAAAA,KAAA,SACE0B,KAAK,WACLC,MAAOR,EACPS,SAAWpB,GAAMY,EAAYZ,EAAE7E,OAAOgG,OACtCE,YAAY,WACZC,UAAQ,OAGZ9B,EAAAA,EAAAA,KAAA,UAAQ0B,KAAK,SAAQ3B,SAAC,WACtBF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,2BACwBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,WAAWJ,UAAU,eAAcC,SAAC,eAMvEjD,IAASkD,EAAAA,EAAAA,KAAA,OAAKc,MAAO,CAACrC,MAAO,MAAOsD,aAAc,QAAQhC,SAAEjD,aAI7D,C","sources":["api.js","components/Navbar.js","pages/main/LoginForm.js"],"sourcesContent":["const CORE_API_URL = \"https://core-server-nine.vercel.app\";\n\n// FOR LOCAL BACKEND DEVELOPMENTS\n// const CORE_API_URL = \"http://localhost:3000\";\n\n// Handle token expiration and redirect to login\nconst handleTokenExpiration = (response, data) => {\n  const isTokenExpired = \n    response.status === 401 || \n    response.status === 403 || \n    data?.message?.toLowerCase().includes('token') ||\n    data?.message?.toLowerCase().includes('unauthorized') ||\n    data?.message?.toLowerCase().includes('expired') ||\n    data?.error?.toLowerCase().includes('token') ||\n    data?.error?.toLowerCase().includes('unauthorized');\n\n  if (isTokenExpired) {\n    // Clear expired token\n    localStorage.removeItem('token');\n    \n    // Redirect to login with return URL\n    const currentPath = window.location.pathname;\n    const returnUrl = encodeURIComponent(currentPath);\n    const message = encodeURIComponent('Your session has expired. Please log in again.');\n    \n    window.location.href = `/login?returnUrl=${returnUrl}&message=${message}`;\n    return true;\n  }\n  \n  return false;\n};\n\nfunction call_api(payload, target, method) {\n  const url = CORE_API_URL + \"/api/\" + target;\n  const token = localStorage.getItem(\"token\");\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const handleResponse = async (response) => {\n    let data;\n    \n    try {\n      data = await response.json();\n    } catch (error) {\n      data = { \n        message: response.statusText || 'Unknown error',\n        status: response.status \n      };\n    }\n    \n    // Check for token expiration first\n    if (handleTokenExpiration(response, data)) {\n      const error = new Error('Token expired - redirecting to login');\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    // Handle other HTTP errors\n    if (!response.ok) {\n      const error = new Error(`HTTP ${response.status}: ${response.statusText}`);\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    return data;\n  };\n\n  const fetchOptions = {\n    method: method,\n    headers: headers,\n  };\n\n  if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method) && payload) {\n    fetchOptions.body = JSON.stringify(payload);\n  }\n\n  return fetch(url, fetchOptions).then(handleResponse);\n}\n\nmodule.exports = { call_api };","import React, { useState, useEffect } from 'react';\nimport './Navbar.css';\nimport {FaBars, FaTimes} from 'react-icons/fa';\nimport { Link, useNavigate } from 'react-router-dom';\nimport logo from '../assets/logo.png'\nimport axios from \"axios\";\n\nconst Navbar = () => {\n    const [check, setCheck] = useState(null);\n    const [click, setClick] = useState(false);\n    const [color, setColor] = useState(false);\n    const [activeDropdown, setActiveDropdown] = useState(null);\n    const navigate = useNavigate();\n  \n    const handleClick = () => setClick((prevState) => !prevState);\n  \n    const changeColor = () => {\n      if (window.scrollY >= 45) {\n        setColor(true);\n      } else {\n        setColor(false);\n      }\n    };\n  \n    window.addEventListener('scroll', changeColor);\n  \n    const scrollToTop = () => {\n      window.scrollTo(0, 0);\n      setClick(false); // Close mobile menu when clicking a link\n    };\n\n    const toggleDropdown = (index) => {\n      if (window.innerWidth <= 1100) {\n        setActiveDropdown(activeDropdown === index ? null : index);\n      }\n    };\n\n    const updateDashboard = () => {\n        window.location.href = '/dashboard';\n    };\n\n    const updateOnline = () => {\n        window.location.href = '/online-classes';\n        setClick(false); // Close mobile menu\n    };\n\n    const navigateToDashboard = (e) => {\n        e.preventDefault();\n        navigate('/dashboard');\n        setClick(false); // Close mobile menu\n    };\n    \n    const handleLogout = (e) => {\n      e.preventDefault();\n      // Clear the token from localStorage\n      localStorage.removeItem('token');\n      // Update authentication state\n      setCheck(false);\n      // Navigate to login page\n      navigate('/login');\n    };\n  \n    useEffect(() => {\n      // Check for token in localStorage first\n      const token = localStorage.getItem('token');\n      \n      if (token) {\n        // If token exists in localStorage, we consider user as logged in\n        setCheck(true);\n      } else {\n        // If no token in localStorage, check with the server\n        axios\n          .get('https://www.stemzlearning.org/dashboard', {\n            withCredentials: true,\n          })\n          .then((response) => {\n            if (response.data.success) {\n              setCheck(true);\n            } else {\n              setCheck(false);\n            }\n          })\n          .catch(() => {\n            setCheck(false);\n          });\n      }\n    }, []);\n  \n    if (check === null) {\n      return null; // Render nothing while fetching data\n    }\n  \n    return (\n        <div className={color ? 'header header-bg' : 'header'}>\n            <Link to='/'>\n                <img src={logo} alt=\"STEMz Learning\" className=\"logo\"/>\n            </Link>\n            <ul className={click ? 'nav-menu active' : 'nav-menu'}>\n                <li>\n                    <Link to='/' onClick={scrollToTop}>Home</Link>\n                </li>\n                <li>\n                    <Link to='/about-us' onClick={scrollToTop}>About Us</Link>\n                </li>\n                <li>\n                    <Link to='/online-classes' onClick={updateOnline}>Online Classes</Link>\n                </li>\n                <li className={activeDropdown === 0 ? 'active' : ''} onClick={() => toggleDropdown(0)}>\n                    <Link to='/self-paced-classes' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Self-Paced Classes\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/astronomy\" onClick={scrollToTop}>Astronomy</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/basicsofcoding\" onClick={scrollToTop}>Basics of Coding</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/biochemistry\" onClick={scrollToTop}>Biochemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/chemistry\" onClick={scrollToTop}>Chemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/circuits\" onClick={scrollToTop}>Circuits</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/environmentalscience\" onClick={scrollToTop}>Environmental Science</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/psychology\" onClick={scrollToTop}>Psychology</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/statistics\" onClick={scrollToTop}>Statistics</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/zoology\" onClick={scrollToTop}>Zoology</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/course-boxes' onClick={scrollToTop}>Course Boxes</Link>\n                </li>\n                <li>\n                    <Link to='https://substack.com/@STEMZLEARNING' onClick={scrollToTop}>News</Link>\n                </li>\n                <li className={activeDropdown === 1 ? 'active' : ''} onClick={() => toggleDropdown(1)}>\n                    <Link to='/get-involved' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Get Involved\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/volunteer\" onClick={scrollToTop}>Volunteers</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/contact' onClick={scrollToTop}>Contact</Link>\n                </li>\n                <li className=\"login-item\">\n                    {check ? (\n                        <Link to=\"/dashboard\" onClick={navigateToDashboard} className=\"login-link\">Dashboard</Link>\n                    ) : (\n                        <Link to=\"/login\" onClick={scrollToTop} className=\"login-link\">Log In</Link>\n                    )}\n                </li>\n            </ul>\n            <div className='hamburger' onClick={handleClick}>\n                {click ? (<FaTimes size={20} style={{color: 'black'}} />) : (<FaBars size={20} style={{color: 'black'}}/>)}\n            </div>\n        </div>\n    )\n}\n\nexport default Navbar;","//LoginForm.js\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../../components/Navbar';\nimport { call_api } from '../../api' \nimport '../../components/Quiz.css'\nimport '../../components/Form.css';\nimport '../css/LoginForm.css';\n// import lightbulbImage from '../assets/lightbulb3.png'\nimport { useNavigate, Link } from 'react-router-dom';\n\nconst LoginForm = () => {\n    const navigate = useNavigate();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    \n    \n    useEffect(() => {\n      const verifyToken = async () => {\n          const token = localStorage.getItem('token');\n          \n          if (!token) {\n              // No token found, stay on login page and don't redirect\n              console.error(\"no token:\", error);\n              return;\n          }\n  \n          try {\n              const response = await call_api(null, \"auth/verify\", \"POST\");\n              if (response.success) {\n                  navigate(\"/dashboard\");\n              } else {\n                  localStorage.removeItem('token');\n              }\n          } catch (error) {\n              console.error(\"Token verification failed:\", error);\n              localStorage.removeItem('token');\n          }\n      };\n  \n      verifyToken();\n  }, [navigate]);\n  \n    const submit = async (e) => {\n      e.preventDefault();\n      setError(\"\");\n\n      try {\n          const response = await call_api({\n              email,\n              password,\n          }, \"auth/login\", \"POST\");\n          \n          if (response && response.token) {\n              localStorage.setItem('token', response.token);\n              // console.log(\"Token stored:\", localStorage.getItem('token')); // Verify token storage\n              navigate(\"/dashboard\");\n          } else {\n              setError(\"Login failed - no token received\");\n          }\n      } catch (error) {\n          console.error(\"Login failed:\", error);\n          setError(\"Invalid email or password\");\n      }\n  };\n\n  return (\n    <div>\n    <Navbar />\n    <div className=\"login-container\">\n    <div className=\"login-card\">\n      <form className=\"login-form\" onSubmit={submit}>\n      <h1>Login</h1>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Email\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Password\"\n            required\n          />\n        </div>\n        <button type=\"submit\">Login</button>\n        <p>\n            Don't have an account? <Link to=\"/sign-up\" className=\"sign-up-link\">Sign Up</Link>\n        </p>\n        {/* Display current token for debugging \n        <div style={{fontSize: '12px', wordBreak: 'break-all', margin: '1rem'}}>\n            Current Token: {localStorage.getItem('token')}\n        </div> */}\n        {error && <div style={{color: 'red', marginBottom: '1rem'}}>{error}</div>}\n      </form>\n    </div>\n  </div>\n  </div>\n  )\n}\n\nexport default LoginForm;"],"names":["module","exports","call_api","payload","target","method","url","CORE_API_URL","token","localStorage","getItem","headers","fetchOptions","includes","body","JSON","stringify","fetch","then","async","data","response","json","error","message","statusText","status","handleTokenExpiration","_data$message","_data$message2","_data$message3","_data$error","_data$error2","toLowerCase","removeItem","currentPath","window","location","pathname","returnUrl","encodeURIComponent","href","Error","ok","Navbar","check","setCheck","useState","click","setClick","color","setColor","activeDropdown","setActiveDropdown","navigate","useNavigate","addEventListener","changeColor","scrollY","scrollToTop","scrollTo","toggleDropdown","index","innerWidth","useEffect","axios","get","withCredentials","success","catch","_jsxs","className","children","_jsx","Link","to","src","logo","alt","onClick","updateOnline","e","preventDefault","handleClick","prevState","FaTimes","size","style","FaBars","LoginForm","email","setEmail","password","setPassword","setError","console","verifyToken","onSubmit","setItem","type","value","onChange","placeholder","required","marginBottom"],"sourceRoot":""}