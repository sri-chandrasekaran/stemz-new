"use strict";(self.webpackChunkstemz_new=self.webpackChunkstemz_new||[]).push([[2168],{2768:(e,s,o)=>{o.d(s,{E:()=>i});var t=o(3658);const n=(e,s)=>{var o,t,n,i,r;if(401===e.status||403===e.status||(null===s||void 0===s||null===(o=s.message)||void 0===o?void 0:o.toLowerCase().includes("token"))||(null===s||void 0===s||null===(t=s.message)||void 0===t?void 0:t.toLowerCase().includes("unauthorized"))||(null===s||void 0===s||null===(n=s.message)||void 0===n?void 0:n.toLowerCase().includes("expired"))||(null===s||void 0===s||null===(i=s.error)||void 0===i?void 0:i.toLowerCase().includes("token"))||(null===s||void 0===s||null===(r=s.error)||void 0===r?void 0:r.toLowerCase().includes("unauthorized"))){localStorage.removeItem("token");const e=window.location.pathname,s=encodeURIComponent(e),o=encodeURIComponent("Your session has expired. Please log in again.");return window.location.href=`/login?returnUrl=${s}&message=${o}`,!0}return!1};function i(e,s,o){const i=(0,t.KB)(s),r=localStorage.getItem("token"),l={"Content-Type":"application/json"};r&&(l.Authorization=`Bearer ${r}`);const a={method:o,headers:l};return["POST","PUT","PATCH","DELETE"].includes(o)&&e&&(a.body=JSON.stringify(e)),fetch(i,a).then((async e=>{let s;try{s=await e.json()}catch(o){s={message:e.statusText||"Unknown error",status:e.status}}if(n(e,s)){const o=new Error("Token expired - redirecting to login");throw o.response={status:e.status,statusText:e.statusText,data:s},o}if(!e.ok){const o=new Error(`HTTP ${e.status}: ${e.statusText}`);throw o.response={status:e.status,statusText:e.statusText,data:s},o}return s}))}},1802:(e,s,o)=>{o.d(s,{A:()=>i});o(5043);var t=o(2774),n=o(579);const i=()=>(0,n.jsx)("div",{className:"footer fixed-footer",children:(0,n.jsxs)("div",{className:"footer-container",children:[(0,n.jsxs)("div",{className:"social",children:[(0,n.jsx)("a",{href:"https://www.facebook.com/alice.gao.96558/",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(t.iYk,{size:40,style:{color:"black",marginRight:"1rem"}})}),(0,n.jsx)("a",{href:"https://www.linkedin.com/company/stemz-learning/",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(t.QEs,{size:40,style:{color:"black",marginRight:"1rem"}})}),(0,n.jsx)("a",{href:"https://www.tiktok.com/@stemzlearning?_t=8edHU0jxuuUI&_r=1",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(t.kkU,{size:40,style:{color:"black",marginRight:"1rem"}})}),(0,n.jsx)("a",{href:"https://www.instagram.com/stemzlearning",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(t.ao$,{size:40,style:{color:"black",marginRight:"1rem"}})}),(0,n.jsx)("a",{href:"https://www.twitter.com/stemzlearning",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(t.feZ,{size:40,style:{color:"black",marginRight:"1rem"}})})]}),(0,n.jsxs)("div",{className:"footer-links",style:{marginTop:"1rem"},children:[(0,n.jsx)("a",{href:"https://docs.google.com/document/d/e/2PACX-1vRRlvzMG1MRStuFFvQUnol5KW5UsQ02sfF2Rk2N7nAgY9xEq8wFJyTvciuRNd6oU8mb-VYkL2kFmJZD/pub",target:"_blank",rel:"noopener noreferrer",style:{marginRight:"1rem",color:"black",textDecoration:"underline"},children:"Privacy Policy"}),(0,n.jsx)("a",{href:"https://docs.google.com/document/d/e/2PACX-1vTMxRohPUgQX_kQF-Pdexq_Pv21EVmnKHFsrHh75nh1EWA0zgCRhJeOguMoDwrUFu2qTRI7ZEkBJ5E9/pub",target:"_blank",rel:"noopener noreferrer",style:{color:"black",textDecoration:"underline"},children:"Terms of Use"})]})]})})},7956:(e,s,o)=>{o.d(s,{A:()=>n});o(5043);var t=o(579);const n=e=>{let{overlayText:s}=e;return(0,t.jsx)("div",{className:"hero-other",children:(0,t.jsx)("div",{className:"hero-overlay",children:(0,t.jsx)("p",{className:"overlay-text",children:s})})})}},8468:(e,s,o)=>{o.d(s,{A:()=>d});var t=o(5043),n=o(2774),i=o(3216),r=o(5475),l=o(3153),a=o(8816),c=o(579);const d=()=>{const[e,s]=(0,t.useState)(null),[o,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[p,v]=(0,t.useState)(null),g=(0,i.Zp)();window.addEventListener("scroll",(()=>{window.scrollY>=45?h(!0):h(!1)}));const m=()=>{window.scrollTo(0,0),d(!1)},x=e=>{window.innerWidth<=1100&&v(p===e?null:e)};return(0,t.useEffect)((()=>{localStorage.getItem("token")?s(!0):(0,a.HW)().then((e=>{e.success?s(!0):s(!1)})).catch((()=>{s(!1)}))}),[]),null===e?null:(0,c.jsxs)("div",{className:u?"header header-bg":"header",children:[(0,c.jsx)(r.N_,{to:"/",children:(0,c.jsx)("img",{src:l,alt:"STEMz Learning",className:"logo"})}),(0,c.jsxs)("ul",{className:o?"nav-menu active":"nav-menu",children:[(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/",onClick:m,children:"Home"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/about-us",onClick:m,children:"About Us"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/online-classes",onClick:()=>{window.location.href="/online-classes",d(!1)},children:"Online Classes"})}),(0,c.jsxs)("li",{className:0===p?"active":"",onClick:()=>x(0),children:[(0,c.jsx)(r.N_,{to:"/self-paced-classes",onClick:e=>window.innerWidth<=1100&&e.preventDefault(),children:"Self-Paced Classes"}),(0,c.jsxs)("ul",{className:"dropdown-menu",children:[(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/astronomy",onClick:m,children:"Astronomy"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/basicsofcoding",onClick:m,children:"Basics of Coding"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/biochemistry",onClick:m,children:"Biochemistry"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/chemistry",onClick:m,children:"Chemistry"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/circuits",onClick:m,children:"Circuits"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/environmentalscience",onClick:m,children:"Environmental Science"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/psychology",onClick:m,children:"Psychology"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/statistics",onClick:m,children:"Statistics"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/zoology",onClick:m,children:"Zoology"})})]})]}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/course-boxes",onClick:m,children:"Course Boxes"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"https://substack.com/@STEMZLEARNING",onClick:m,children:"News"})}),(0,c.jsxs)("li",{className:1===p?"active":"",onClick:()=>x(1),children:[(0,c.jsx)(r.N_,{to:"/get-involved",onClick:e=>window.innerWidth<=1100&&e.preventDefault(),children:"Get Involved"}),(0,c.jsx)("ul",{className:"dropdown-menu",children:(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/volunteer",onClick:m,children:"Volunteers"})})})]}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/contact",onClick:m,children:"Contact"})}),(0,c.jsx)("li",{className:"login-item",children:e?(0,c.jsx)(r.N_,{to:"/dashboard",onClick:e=>{e.preventDefault(),g("/dashboard"),d(!1)},className:"login-link",children:"Dashboard"}):(0,c.jsx)(r.N_,{to:"/login",onClick:m,className:"login-link",children:"Log In"})})]}),(0,c.jsx)("div",{className:"hamburger",onClick:()=>d((e=>!e)),children:o?(0,c.jsx)(n.QCr,{size:20,style:{color:"black"}}):(0,c.jsx)(n.OXb,{size:20,style:{color:"black"}})})]})}},2168:(e,s,o)=>{o.d(s,{A:()=>u});var t=o(5043),n=o(8468),i=o(7956),r=o(1802),l=o(3216),a=o(5475),c=o(2768),d=o(579);const u=e=>{var s;let{lessonTitle:o,lessonNumber:u="lesson1",courseKey:h="astronomy",videoUrl:p,slideshowUrl:v,worksheetPath:g=null,quizPath:m=null,notesUrl:x,notesLabel:f,maxVideoPoints:y=7,worksheetPoints:w=5,quizPoints:k=10,completionThreshold:j=95,isParentVersion:b=!1,bpqQuestions:N=[]}=e;const[C,S]=(0,t.useState)(null),[T,E]=(0,t.useState)(!0),[P,z]=(0,t.useState)(!1),[$,_]=(0,t.useState)(0),[A,I]=(0,t.useState)(!1),[q,R]=(0,t.useState)(!1),[L,U]=(0,t.useState)({video:0,worksheet:0,quiz:0}),[O,Y]=(0,t.useState)(!1),[B,D]=(0,t.useState)(""),F=(0,t.useRef)(null),Q=(0,t.useRef)(null),W=(0,t.useRef)(null),V=(0,l.Zp)(),M=null!==g,H=null!==m,[J,G]=(0,t.useState)(0),[Z,K]=(0,t.useState)(!1),[X,ee]=(0,t.useState)(""),[se,oe]=(0,t.useState)(new Set);(0,t.useEffect)((()=>{if(!Z)return;if(!X)return;const e=setInterval((async()=>{try{const e={questionId:`${u}_q${J+1}`,eventType:"autosave",value:X,timestamp:(new Date).toISOString()};console.log("\ud83d\udcbe Auto-saving snapshot:",e),await(0,c.E)({events:[e]},`studentresponses/${h}/lesson/${u}/bpq/autosave`,"POST"),ce("\u2713 Response auto-saved",1e3)}catch(e){console.error("\u274c Error auto-saving response:",e),ce("\u274c Auto-save failed",1e3)}}),3e3);return()=>clearInterval(e)}),[X,Z,J,h,u]);const te=async e=>{try{const o=await fetch("https://stemz-learning-qualitative-metrics-nlp.hf.space/gradio_api/call/predict_scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[e]})});if(!o.ok)throw new Error(`POST request failed: ${o.status}`);const t=await o.json();console.log("POST response:",t);const n=t.event_id;if(!n)throw new Error("No event_id received");const i=await fetch(`https://stemz-learning-qualitative-metrics-nlp.hf.space/gradio_api/call/predict_scores/${n}`);if(!i.ok)throw new Error(`GET request failed: ${i.status}`);const r=await i.text();console.log("GET response text:",r);const l=r.split("\n");let a=null;for(const e of l)if(e.startsWith("data: "))try{const s=e.substring(6),o=JSON.parse(s);if(console.log("Parsed line:",o),Array.isArray(o)&&o.length>0){a=o[0];break}}catch(s){console.log("Failed to parse line:",e,s);continue}return console.log("Final parsed result:",a),a}catch(o){return console.error("Error calling NLP API:",o),null}},[ne,ie]=(0,t.useState)([]),[re,le]=(0,t.useState)(!1),ae=e=>{const s=(new Date).toLocaleTimeString();console.log(`[${s}] ${e}`)},ce=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;D(e),W.current&&clearTimeout(W.current),W.current=setTimeout((()=>{D("")}),s)};(0,t.useEffect)((()=>{(async()=>{if(!localStorage.getItem("token"))return ae("No token found, redirecting to login page"),void V("/login");try{ae("Token found, verifying...");const e=await(0,c.E)(null,"auth/verify","POST");e&&e.success?(ae("Token verification successful"),z(!0),E(!1)):(ae("Token verification failed"),localStorage.removeItem("token"),V("/login"))}catch(e){console.error("Token verification error:",e),localStorage.removeItem("token"),V("/login")}})()}),[V]),(0,t.useEffect)((()=>{if(!P)return;(async()=>{try{ae("Fetching user progress...");const e=await(0,c.E)(null,"points","GET");if(ae("API response received"),e){if(S(e),e.courses&&e.courses[h]){const s=e.courses[h].lessons[u];if(ae("Lesson data found"),s){if(s.activities&&s.activities.video){const e=s.activities.video.percentWatched||0,o=s.activities.video.earned||0;ae(`Loading saved video progress: ${e}%`),ae(`Loading saved video points: ${o}`),_(e),U((e=>({...e,video:o})))}if(M&&s.activities&&s.activities.worksheet){const e=s.activities.worksheet.completed||!1,o=s.activities.worksheet.earned||0;ae(`Loading saved worksheet completion: ${e}`),ae(`Loading saved worksheet points: ${o}`),I(e),U((e=>({...e,worksheet:o})))}if(H&&s.activities&&s.activities.quiz){const e=s.activities.quiz.completed||!1,o=s.activities.quiz.earned||0;ae(`Loading saved quiz completion: ${e}`),ae(`Loading saved quiz points: ${o}`),R(e),U((e=>({...e,quiz:o})))}}}E(!1)}}catch(e){console.error("Error fetching course progress:",e),E(!1)}})()}),[P,h,u,M,H]),(0,t.useEffect)((()=>{const e=()=>{ae("Initializing YouTube player");if(!document.getElementById("youtube-player"))return ae("YouTube iframe not found, will retry"),void setTimeout(e,1e3);try{F.current=new YT.Player("youtube-player",{events:{onReady:s,onStateChange:o}}),ae("Player initialized")}catch(t){ae("Error initializing player: "+t.message)}},s=e=>{console.log("Player ready"),F.current=e.target},o=e=>{const s={"-1":"UNSTARTED",0:"ENDED",1:"PLAYING",2:"PAUSED",3:"BUFFERING",5:"CUED"}[e.data]||e.data;console.log(`Player state changed: ${s} (${e.data})`),1===e.data?de():2!==e.data&&0!==e.data||(pe(),ue(),0===e.data&&oe(new Set))};return window.YT&&window.YT.Player?(ae("YouTube API already loaded"),e()):(()=>{ae("Loading YouTube API");const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(s,o),window.onYouTubeIframeAPIReady=e})(),()=>{ae("Component unmounting, cleaning up"),ue(),window.onYouTubeIframeAPIReady=null,W.current&&clearTimeout(W.current)}}),[]);const de=()=>{ae("Starting progress tracking"),Q.current&&clearInterval(Q.current),Q.current=setInterval((()=>{pe(),he()}),1e3)},ue=()=>{Q.current&&(clearInterval(Q.current),Q.current=null,ae("Stopped progress tracking"))},he=()=>{if(F.current&&N&&0!==N.length&&!Z)try{const e=F.current.getCurrentTime();N.forEach(((s,o)=>{if(s&&"number"===typeof s.time&&e>=s.time&&e<s.time+1&&!se.has(o))return console.log(`Showing BPQ question ${o+1} at video time ${e}:`,s.text),oe((e=>new Set([...e,o]))),"function"===typeof F.current.pauseVideo&&F.current.pauseVideo(),G(o),void K(!0)}))}catch(e){console.log("Error checking for BPQ questions:",e)}},pe=()=>{if(F.current)try{if("function"!==typeof F.current.getCurrentTime||"function"!==typeof F.current.getDuration)return ae("Player methods not available"),void(window.YT&&window.YT.Player&&(ae("Recreating player instance"),F.current=new YT.Player("youtube-player",{events:{onReady:e=>{ae("Player recreated"),F.current=e.target,setTimeout(pe,500)}}})));const e=F.current.getCurrentTime(),s=F.current.getDuration();if(isNaN(e)||isNaN(s)||s<=0)return void ae("Invalid time values");const o=Math.min(Math.floor(e/s*100),100);if(ae(`Current video position: ${o}% (${e.toFixed(1)}/${s.toFixed(1)})`),o>$){ae(`Updating progress: ${$}% \u2192 ${o}%`),_(o);const e=Math.min(y,Math.floor(y*o/100));ae(`Updating points: ${L.video} \u2192 ${e}`),U((s=>({...s,video:e}))),o>=j&&(ae(`Video fully watched (${o}% \u2265 ${j}%)`),_(100),U((e=>({...e,video:y}))))}else ae(`Current position (${o}%) is less than max progress (${$}%). No update needed.`)}catch(e){ae("Error checking progress: "+e.message)}else ae("No player available")};if((0,t.useEffect)((()=>{(async()=>{var e,s,o,t,n,i,r,l,a,d,p,v,g,m,x;if(!C||!P||O)return;const f=null===(e=C.courses)||void 0===e||null===(s=e[h])||void 0===s||null===(o=s.lessons)||void 0===o?void 0:o[u];if(!f)return;const y=L.video!==((null===(t=f.activities)||void 0===t||null===(n=t.video)||void 0===n?void 0:n.earned)||0),w=$!==((null===(i=f.activities)||void 0===i||null===(r=i.video)||void 0===r?void 0:r.percentWatched)||0),k=!!M&&L.worksheet!==((null===(l=f.activities)||void 0===l||null===(a=l.worksheet)||void 0===a?void 0:a.earned)||0),b=!!M&&A!==((null===(d=f.activities)||void 0===d||null===(p=d.worksheet)||void 0===p?void 0:p.completed)||!1),N=!!H&&L.quiz!==((null===(v=f.activities)||void 0===v||null===(g=v.quiz)||void 0===g?void 0:g.earned)||0),T=!!H&&q!==((null===(m=f.activities)||void 0===m||null===(x=m.quiz)||void 0===x?void 0:x.completed)||!1),E=y||k||N||w||b||T;if(ae("Changes detected: "+E),E){ae("Updating backend with changes"),Y(!0),ce("Saving progress...");try{const e=JSON.parse(JSON.stringify(C));e.courses[h]||(e.courses[h]={lessons:{}}),e.courses[h].lessons[u]||(e.courses[h].lessons[u]={activities:{}}),e.courses[h].lessons[u].activities||(e.courses[h].lessons[u].activities={}),e.courses[h].lessons[u].activities.video||(e.courses[h].lessons[u].activities.video={}),M&&!e.courses[h].lessons[u].activities.worksheet&&(e.courses[h].lessons[u].activities.worksheet={}),H&&!e.courses[h].lessons[u].activities.quiz&&(e.courses[h].lessons[u].activities.quiz={}),e.courses[h].lessons[u].activities.video.percentWatched=$,e.courses[h].lessons[u].activities.video.earned=L.video,e.courses[h].lessons[u].activities.video.completed=$>=j,M&&(e.courses[h].lessons[u].activities.worksheet.completed=A,e.courses[h].lessons[u].activities.worksheet.earned=L.worksheet),H&&(e.courses[h].lessons[u].activities.quiz.completed=q,e.courses[h].lessons[u].activities.quiz.earned=L.quiz);const s=L.video+(M?L.worksheet:0)+(H?L.quiz:0);e.courses[h].lessons[u].lessonPoints=s;const o=$>=j&&(!M||A)&&(!H||q);e.courses[h].lessons[u].completed=o;let t=0;Object.values(e.courses[h].lessons).forEach((e=>{t+=e.lessonPoints||0})),e.courses[h].coursePoints=t;const n=Object.values(e.courses[h].lessons).every((e=>e.completed));e.courses[h].completed=n;let i=0;Object.values(e.courses).forEach((e=>{i+=e.coursePoints||0})),e.totalPoints=i,ae("Sending updated progress to backend");await(0,c.E)(e,"points","POST")&&(ae("Points updated successfully"),S(e),ce("\u2713 Progress saved!",3e3))}catch(z){console.error("Error updating points:",z),ce("\u274c Error saving progress",3e3)}finally{Y(!1)}}})()}),[L,$,A,q,C,P,O,h,u,M,H,j]),(0,t.useEffect)((()=>()=>{W.current&&clearTimeout(W.current)}),[]),(0,t.useEffect)((()=>()=>{console.log("Component unmounting, cleaning up BPQ timeouts"),ne.forEach((e=>clearTimeout(e))),console.log("Cleared all BPQ timeouts"),le(!1)}),[]),(0,t.useEffect)((()=>{console.log("Video URL changed, resetting BPQ state"),oe(new Set),G(0),K(!1),ee("")}),[p]),T)return(0,d.jsxs)("div",{children:[(0,d.jsx)(n.A,{}),(0,d.jsx)(i.A,{overlayText:o}),(0,d.jsxs)("div",{className:"loading-container",children:[(0,d.jsx)("div",{className:"loading-spinner"}),(0,d.jsx)("p",{children:"Loading lesson content..."})]}),(0,d.jsx)(r.A,{})]});const ve=`https://www.youtube.com/embed/${(e=>{if(!e.includes("youtube.com/")&&!e.includes("youtu.be/"))return e;const s=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return s&&11===s[2].length?s[2]:null})(p)}?enablejsapi=1&origin=${window.location.origin}`,ge=y+(M?w:0)+(H?k:0);return(0,d.jsxs)("div",{children:[(0,d.jsx)(n.A,{}),(0,d.jsx)(i.A,{overlayText:o}),B&&(0,d.jsx)("div",{className:"status-notification",style:{position:"fixed",top:"150px",right:"20px",padding:"10px 15px",backgroundColor:B.includes("Error")?"rgba(231, 76, 60, 0.8)":"#357717",color:"white",borderRadius:"5px",fontWeight:"bold",zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.2)",animation:"fadeIn 0.3s ease-out",fontSize:"16px"},children:B}),Z&&J<N.length&&(0,d.jsx)("div",{className:"question-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,d.jsxs)("div",{className:"question-box",style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[(0,d.jsxs)("h3",{children:["Question ",J+1]}),(0,d.jsx)("p",{style:{fontSize:"18px",marginBottom:"20px"},children:(null===(s=N[J])||void 0===s?void 0:s.text)||"Question not available"}),(0,d.jsx)("textarea",{value:X,onChange:e=>ee(e.target.value),placeholder:"Type your answer here...",style:{width:"100%",minHeight:"100px",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"20px",resize:"vertical"}}),(0,d.jsx)("button",{onClick:async()=>{if(console.log(`Answer submitted for question ${J+1}:`,X),X.trim()){ce("Analyzing response...");const o=await te(X);if(o){var e;console.log("\ud83c\udfaf NLP ANALYSIS COMPLETE \ud83c\udfaf"),console.log("====================================="),console.log(`Question ${J+1}: "${null===(e=N[J])||void 0===e?void 0:e.text}"`),console.log(`Student Response: "${X}"`),console.log("====================================="),console.log("\ud83d\udcca QUALITATIVE SCORES (out of 20):"),console.log(`\ud83c\udfa8 Creativity: ${o.creativity}/20`),console.log(`\ud83e\udde0 Critical Thinking: ${o.critical_thinking}/20`),console.log(`\ud83d\udc41\ufe0f Observation: ${o.observation}/20`),console.log(`\u2753 Curiosity: ${o.curiosity}/20`),console.log(`\ud83d\udd27 Problem Solving: ${o.problem_solving}/20`),console.log("=====================================");const t=(o.creativity+o.critical_thinking+o.observation+o.curiosity+o.problem_solving)/5;console.log(`\ud83d\udcc8 Average Score: ${t.toFixed(1)}/20`),ce("Saving response...");const n={questionId:`${u}_q${J+1}`,initialAnswer:X,finalAnswer:X,feedback:"",scores:{Creativity:o.creativity,"Critical Thinking":o.critical_thinking,Observation:o.observation,Curiosity:o.curiosity,"Problem Solving":o.problem_solving}};try{const e=await(0,c.E)(n,`studentresponses/${h}/lesson/${u}/bpq`,"POST");e&&e.success?(console.log("\u2705 Response saved to backend successfully"),ce("\u2713 Response saved!")):(console.log("\u274c Failed to save response to backend"),ce("\u274c Error saving response"))}catch(s){console.error("Error saving response:",s),ce("\u274c Error saving response")}}else console.log("\u274c NLP Analysis failed - check Flask server"),ce("\u274c Error analyzing response")}else console.log("\u26a0\ufe0f Empty response - skipping NLP analysis");K(!1),ee(""),F.current&&"function"===typeof F.current.playVideo&&F.current.playVideo()},children:"Submit & Continue"})]})}),(0,d.jsxs)("div",{className:"points-status",children:[(0,d.jsxs)("div",{className:"points-row",children:[(0,d.jsx)("span",{className:"points-label",children:"Video progress:"}),(0,d.jsxs)("span",{className:"points-value",children:[$,"%"]}),(0,d.jsxs)("span",{className:"points-earned",children:["(",L.video," points)"]})]}),M&&(0,d.jsxs)("div",{className:"points-row",children:[(0,d.jsx)("span",{className:"points-label",children:"Worksheet:"}),(0,d.jsx)("span",{className:"points-value",children:A?"Completed":"Not completed"}),(0,d.jsxs)("span",{className:"points-earned",children:["(",L.worksheet," points)"]})]}),H&&(0,d.jsxs)("div",{className:"points-row",children:[(0,d.jsx)("span",{className:"points-label",children:"Quiz:"}),(0,d.jsx)("span",{className:"points-value",children:q?"Completed":"Not completed"}),(0,d.jsxs)("span",{className:"points-earned",children:["(",L.quiz," points)"]})]}),(0,d.jsxs)("div",{className:"points-row total",children:[(0,d.jsx)("span",{className:"points-label",children:"Total lesson points:"}),(0,d.jsxs)("span",{className:"points-value",children:[L.video+(M?L.worksheet:0)+(H?L.quiz:0)," ","out of ",ge]})]})]}),(0,d.jsx)("div",{className:"vidbig",children:(0,d.jsx)("div",{id:"youtube-player-container",children:(0,d.jsx)("iframe",{id:"youtube-player",className:"astrovid",width:"700",height:"480",src:ve,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,d.jsxs)("div",{className:"centered-container",children:[v&&(0,d.jsx)(a.N_,{to:v,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("button",{className:"course-button",children:"Slideshow"})}),M&&(0,d.jsx)("button",{className:"course-button",onClick:()=>{ae("Worksheet button clicked, navigating to worksheet"),V(g)},children:"Worksheet"}),H&&(0,d.jsx)("button",{className:"course-button",onClick:()=>{ae("Quiz button clicked, navigating to quiz"),V(m)},children:"Quiz"}),x&&(0,d.jsx)(a.N_,{to:x,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("button",{className:"course-button",children:f})})]}),(0,d.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes fadeOut {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n        }\n      "}),(0,d.jsx)("div",{style:{paddingBottom:"200px"}}),(0,d.jsx)(r.A,{})]})}},3658:(e,s,o)=>{o.d(s,{KB:()=>n});const t="https://core-server-nine.vercel.app/api".replace(/\/+$/,""),n=function(){const e=String((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"").replace(/^\/+/,"");return`${t}/${e}`}},8816:(e,s,o)=>{o.d(s,{HW:()=>l});var t=o(6213),n=o(3658),i=o(4420);function r(){const e=localStorage.getItem("token"),s={"Content-Type":"application/json"};return e&&(s.Authorization=`Bearer ${e}`),s}async function l(){const e=localStorage.getItem("token");if(!e)return{success:!1};try{await t.A.post((0,n.KB)("auth/verify"),{},{headers:r()});let o=null;try{o=(0,i.s)(e)}catch(s){}return{success:!0,dashboardData:o?{user:o}:void 0}}catch(o){return{success:!1}}}},3153:(e,s,o)=>{e.exports=o.p+"static/media/logo.c9017c166767dbbf195a.png"}}]);
//# sourceMappingURL=2168.6156698e.chunk.js.map