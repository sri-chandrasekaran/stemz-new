{"version":3,"file":"static/js/6183.3eac26ac.chunk.js","mappings":"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","sources":["api.js","components/Footer.js","components/HeroOther.js","components/Navbar.js","components/Quiz.js","config/api-config.js","services/authService.js"],"sourcesContent":["import { buildApiUrl } from './config/api-config';\n\n// Handle token expiration and redirect to login\nconst handleTokenExpiration = (response, data) => {\n  const isTokenExpired = \n    response.status === 401 || \n    response.status === 403 || \n    data?.message?.toLowerCase().includes('token') ||\n    data?.message?.toLowerCase().includes('unauthorized') ||\n    data?.message?.toLowerCase().includes('expired') ||\n    data?.error?.toLowerCase().includes('token') ||\n    data?.error?.toLowerCase().includes('unauthorized');\n\n  if (isTokenExpired) {\n    // Clear expired token\n    localStorage.removeItem('token');\n    \n    // Redirect to login with return URL\n    const currentPath = window.location.pathname;\n    const returnUrl = encodeURIComponent(currentPath);\n    const message = encodeURIComponent('Your session has expired. Please log in again.');\n    \n    window.location.href = `/login?returnUrl=${returnUrl}&message=${message}`;\n    return true;\n  }\n  \n  return false;\n};\n\nexport function call_api(payload, target, method) {\n  const url = buildApiUrl(target);\n  const token = localStorage.getItem(\"token\");\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const handleResponse = async (response) => {\n    let data;\n    \n    try {\n      data = await response.json();\n    } catch (error) {\n      data = { \n        message: response.statusText || 'Unknown error',\n        status: response.status \n      };\n    }\n    \n    // Check for token expiration first\n    if (handleTokenExpiration(response, data)) {\n      const error = new Error('Token expired - redirecting to login');\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    // Handle other HTTP errors\n    if (!response.ok) {\n      const error = new Error(`HTTP ${response.status}: ${response.statusText}`);\n      error.response = {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n      };\n      throw error;\n    }\n    \n    return data;\n  };\n\n  const fetchOptions = {\n    method: method,\n    headers: headers,\n  };\n\n  if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method) && payload) {\n    fetchOptions.body = JSON.stringify(payload);\n  }\n\n  return fetch(url, fetchOptions).then(handleResponse);\n}","import React from 'react';\nimport './Footer.css';\nimport {FaFacebook, FaLinkedin, FaTiktok, FaInstagram, FaTwitter} from 'react-icons/fa'\n\nconst Footer = () => {\n  return (\n    <div className='footer fixed-footer'>\n      <div className='footer-container'>\n        <div className='social'>\n          <a href=\"https://www.facebook.com/alice.gao.96558/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <FaFacebook size={40} style={{color:'black', marginRight: '1rem'}} />\n          </a>\n          <a href=\"https://www.linkedin.com/company/stemz-learning/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <FaLinkedin size={40} style={{color:'black', marginRight: '1rem'}} />\n          </a>\n          <a href=\"https://www.tiktok.com/@stemzlearning?_t=8edHU0jxuuUI&_r=1\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <FaTiktok size={40} style={{color:'black', marginRight: '1rem'}} />\n          </a>\n          <a href=\"https://www.instagram.com/stemzlearning\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <FaInstagram size={40} style={{color:'black', marginRight: '1rem'}} />\n          </a>\n          <a href=\"https://www.twitter.com/stemzlearning\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <FaTwitter size={40} style={{color:'black', marginRight: '1rem'}} />\n          </a>\n        </div>\n        {/* Links for Privacy Policy and Terms of Use */}\n        <div className='footer-links' style={{ marginTop: '1rem' }}>\n          <a href=\"https://docs.google.com/document/d/e/2PACX-1vRRlvzMG1MRStuFFvQUnol5KW5UsQ02sfF2Rk2N7nAgY9xEq8wFJyTvciuRNd6oU8mb-VYkL2kFmJZD/pub\" \n             target=\"_blank\" rel=\"noopener noreferrer\" \n             style={{ marginRight: '1rem', color: 'black', textDecoration: 'underline' }}>\n            Privacy Policy\n          </a>\n          <a href=\"https://docs.google.com/document/d/e/2PACX-1vTMxRohPUgQX_kQF-Pdexq_Pv21EVmnKHFsrHh75nh1EWA0zgCRhJeOguMoDwrUFu2qTRI7ZEkBJ5E9/pub\" \n             target=\"_blank\" rel=\"noopener noreferrer\" \n             style={{ color: 'black', textDecoration: 'underline' }}>\n            Terms of Use\n          </a>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Footer\n","import React from 'react';\nimport './HeroOther.css'\n\nconst Hero = ({ overlayText }) => {\n  return (\n    <div className='hero-other'>\n        <div className=\"hero-overlay\">\n            <p className=\"overlay-text\">{overlayText}</p>\n        </div>\n    </div>\n  )\n}\n\nexport default Hero\n","import React, { useState, useEffect } from 'react';\nimport './Navbar.css';\nimport {FaBars, FaTimes} from 'react-icons/fa';\nimport { Link, useNavigate } from 'react-router-dom';\nimport logo from '../assets/logo.png'\nimport { getCurrentUser } from \"../services/authService\";\n\n\nconst Navbar = () => {\n    const [check, setCheck] = useState(null);\n    const [click, setClick] = useState(false);\n    const [color, setColor] = useState(false);\n    const [activeDropdown, setActiveDropdown] = useState(null);\n    const navigate = useNavigate();\n  \n    const handleClick = () => setClick((prevState) => !prevState);\n  \n    const changeColor = () => {\n      if (window.scrollY >= 45) {\n        setColor(true);\n      } else {\n        setColor(false);\n      }\n    };\n  \n    window.addEventListener('scroll', changeColor);\n  \n    const scrollToTop = () => {\n      window.scrollTo(0, 0);\n      setClick(false); // Close mobile menu when clicking a link\n    };\n\n    const toggleDropdown = (index) => {\n      if (window.innerWidth <= 1100) {\n        setActiveDropdown(activeDropdown === index ? null : index);\n      }\n    };\n\n    const updateDashboard = () => {\n        window.location.href = '/dashboard';\n    };\n\n    const updateOnline = () => {\n        window.location.href = '/online-classes';\n        setClick(false); // Close mobile menu\n    };\n\n    const navigateToDashboard = (e) => {\n        e.preventDefault();\n        navigate('/dashboard');\n        setClick(false); // Close mobile menu\n    };\n    \n    const handleLogout = (e) => {\n      e.preventDefault();\n      // Clear the token from localStorage\n      localStorage.removeItem('token');\n      // Update authentication state\n      setCheck(false);\n      // Navigate to login page\n      navigate('/login');\n    };\n  \n    useEffect(() => {\n      // Check for token in localStorage first\n      const token = localStorage.getItem('token');\n      \n      if (token) {\n        // If token exists in localStorage, we consider user as logged in\n        setCheck(true);\n      } else {\n        // If no token in localStorage, check with the server\n        getCurrentUser()\n          .then((data) => {\n            if (data.success) {\n              setCheck(true);\n            } else {\n              setCheck(false);\n            }\n          })\n          .catch(() => {\n            setCheck(false);\n          });\n      }\n    }, []);\n  \n    if (check === null) {\n      return null; // Render nothing while fetching data\n    }\n  \n    return (\n        <div className={color ? 'header header-bg' : 'header'}>\n            <Link to='/'>\n                <img src={logo} alt=\"STEMz Learning\" className=\"logo\"/>\n            </Link>\n            <ul className={click ? 'nav-menu active' : 'nav-menu'}>\n                <li>\n                    <Link to='/' onClick={scrollToTop}>Home</Link>\n                </li>\n                <li>\n                    <Link to='/about-us' onClick={scrollToTop}>About Us</Link>\n                </li>\n                <li>\n                    <Link to='/online-classes' onClick={updateOnline}>Online Classes</Link>\n                </li>\n                <li className={activeDropdown === 0 ? 'active' : ''} onClick={() => toggleDropdown(0)}>\n                    <Link to='/self-paced-classes' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Self-Paced Classes\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/astronomy\" onClick={scrollToTop}>Astronomy</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/basicsofcoding\" onClick={scrollToTop}>Basics of Coding</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/biochemistry\" onClick={scrollToTop}>Biochemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/chemistry\" onClick={scrollToTop}>Chemistry</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/circuits\" onClick={scrollToTop}>Circuits</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/environmentalscience\" onClick={scrollToTop}>Environmental Science</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/psychology\" onClick={scrollToTop}>Psychology</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/statistics\" onClick={scrollToTop}>Statistics</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/zoology\" onClick={scrollToTop}>Zoology</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/course-boxes' onClick={scrollToTop}>Course Boxes</Link>\n                </li>\n                <li>\n                    <Link to='https://substack.com/@STEMZLEARNING' onClick={scrollToTop}>News</Link>\n                </li>\n                <li className={activeDropdown === 1 ? 'active' : ''} onClick={() => toggleDropdown(1)}>\n                    <Link to='/get-involved' onClick={(e) => window.innerWidth <= 1100 && e.preventDefault()}>\n                        Get Involved\n                    </Link>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <Link to=\"/volunteer\" onClick={scrollToTop}>Volunteers</Link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <Link to='/contact' onClick={scrollToTop}>Contact</Link>\n                </li>\n                <li className=\"login-item\">\n                    {check ? (\n                        <Link to=\"/dashboard\" onClick={navigateToDashboard} className=\"login-link\">Dashboard</Link>\n                    ) : (\n                        <Link to=\"/login\" onClick={scrollToTop} className=\"login-link\">Log In</Link>\n                    )}\n                </li>\n            </ul>\n            <div className='hamburger' onClick={handleClick}>\n                {click ? (<FaTimes size={20} style={{color: 'black'}} />) : (<FaBars size={20} style={{color: 'black'}}/>)}\n            </div>\n        </div>\n    )\n}\n\nexport default Navbar;","import React, { useState, useEffect, useCallback } from 'react';\nimport './Form.css'\nimport PropTypes from 'prop-types';\nimport { call_api } from '../api';\nimport './Quiz.css';\nimport { jwtDecode } from 'jwt-decode';\n\nconst Quiz = ({ courseKey, lessonNumber }) => {\n  // State variables (existing)\n  const [questions, setQuestions] = useState([]);\n  const [selectedAnswers, setSelectedAnswers] = useState({});\n  const [showResults, setShowResults] = useState(false);\n  const [quizTitle, setQuizTitle] = useState('');\n  const [userProgress, setUserProgress] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [pointsEarned, setPointsEarned] = useState(0);\n  const [correctAnswers, setCorrectAnswers] = useState(0);\n  const [percentCorrect, setPercentCorrect] = useState(0);\n  const [savingPoints, setSavingPoints] = useState(false);\n  const [statusMessage, setStatusMessage] = useState('');\n  const [statusTimeoutRef, setStatusTimeoutRef] = useState(null);\n  const [userGrade, setUserGrade] = useState(null);\n  const [maxPossiblePoints, setMaxPossiblePoints] = useState(0);\n  const [quizNotFound, setQuizNotFound] = useState(false);\n  const [total, setTotal] = useState(0);\n\n  // Show status message with auto-fade (existing)\n  const showStatus = useCallback((message, duration = 3000) => {\n    setStatusMessage(message);\n    \n    if (statusTimeoutRef) {\n      clearTimeout(statusTimeoutRef);\n    }\n    \n    const timeoutId = setTimeout(() => {\n      setStatusMessage(\"\");\n    }, duration);\n    \n    setStatusTimeoutRef(timeoutId);\n  }, [statusTimeoutRef]);\n\n  const capitalizeFirst = (str) => str.charAt(0).toUpperCase() + str.slice(1);\n\n  const saveQuizResponsesToDB = async (earnedPoints, correctCount, percentCorrect) => {\n    try {\n      showStatus(\"Saving quiz responses...\");\n      \n      // Prepare quiz answers data\n      const quizAnswers = questions.map((question, questionIndex) => ({\n        questionId: `${courseKey}_${lessonNumber}_q${questionIndex + 1}`,\n        selectedAnswer: question.options[selectedAnswers[questionIndex]] || \"No answer selected\",\n        correct: selectedAnswers[questionIndex] === question.correctAnswerIndex\n      }));\n      \n      // Prepare quiz attempt data - this matches your controller expectation\n      const quizAttemptData = {\n        attemptNumber: 1, // You might want to increment this based on existing attempts\n        answers: quizAnswers,\n        score: earnedPoints,\n        total: maxPossiblePoints,\n        submittedAt: new Date()\n      };\n      \n      console.log('Saving quiz response data:', quizAttemptData);\n      \n      // Save to backend - send quizAttemptData directly since controller expects it in req.body\n      // studentId comes from JWT token via authenticateToken middleware\n      const saveResponse = await call_api(\n        quizAttemptData, \n        `student-responses/${courseKey}/lesson/${lessonNumber}/quiz`, \n        \"POST\"\n      );\n      \n      if (saveResponse && saveResponse.success) {\n        console.log('âœ… Quiz responses saved to backend successfully');\n        showStatus(\"âœ“ Quiz responses saved!\");\n        return true;\n      } else {\n        console.log('âŒ Failed to save quiz responses to backend');\n        showStatus(\"âŒ Error saving quiz responses\");\n        return false;\n      }\n      \n    } catch (error) {\n      console.error('Error saving quiz responses:', error);\n      showStatus(\"âŒ Error saving quiz responses\");\n      return false;\n    }\n  };\n\n// // Load quiz data from backend with dynamic grade\n// useEffect(() => {\n//   const fetchQuizFromBackend = async () => {\n//     try {\n//       // First, get the current user's grade\n//       console.log(\"Step 1: Getting user info from auth/verify\");\n//       const userResponse = await call_api(null, \"auth/verify\", \"POST\");\n//       console.log(\"Auth verify response:\", userResponse);\n      \n//       if (!userResponse || !userResponse.user) {\n//         console.error(\"Could not get user info\");\n//         return;\n//       }\n\n//       console.log(\"Step 2: Getting user details with ID:\", userResponse.user.id);\n//       // Get the full user details to access grade\n//       const userDetailsResponse = await call_api(null, `users/id/${userResponse.user.id}`, \"GET\");\n//       console.log(\"User details response:\", userDetailsResponse);\n      \n//       if (!userDetailsResponse) {\n//         console.error(\"Could not fetch user details\");\n//         return;\n//       }\n      \n//       if (!userDetailsResponse.gradeLevel) {\n//         console.error(\"User has no grade field. User object:\", userDetailsResponse);\n//         return;\n//       }\n\n//       const userGrade = userDetailsResponse.gradeLevel;\n//       console.log(`Step 3: User grade found: ${userGrade}`);\n\n//       // Now fetch quiz questions with dynamic grade\n//       console.log(`Step 4: Fetching quiz questions for course: ${courseKey}, grade: ${userGrade}`);\n//       const response = await call_api(null, `quizquestions?course_id=${courseKey}&grade=${userGrade}`, \"GET\");\n//       console.log(\"Quiz API response:\", response);\n      \n//       if (response && response.questions && response.questions.length > 0) {\n//         console.log('Loaded questions from backend:', response.questions);\n//         setQuestions(response.questions.map(q => ({\n//           question: q.question,\n//           options: q.options,\n//           correctAnswerIndex: q.correctAnswerIndex,\n//         })));\n//         setTotal(response.questions.length);\n//         // setQuizTitle(`${courseKey} Quiz - Grade ${userGrade}`);\n//         setQuizTitle(`${capitalizeFirst(courseKey)} Quiz - Grade ${userGrade}`);\n\n//       } else {\n//         console.error(\"No questions found for this grade level\");\n//       }\n//     } catch (err) {\n//       console.error(\"Error fetching quiz questions:\", err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   fetchQuizFromBackend();\n// }, [courseKey, lessonNumber]);\n\n  // Get user's grade level (existing)\n  useEffect(() => {\n    const fetchUserGrade = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) return;\n        \n        const decoded = jwtDecode(token);\n        const userId = decoded.id;\n        \n        const userResponse = await call_api(null, `users/id/${userId}`, \"GET\");\n        if (userResponse?.gradeLevel) {\n          setUserGrade(userResponse.gradeLevel);\n        } else {\n          setUserGrade(1);\n          showStatus(\"Please update your grade level in your profile for personalized quizzes\", 5000);\n        }\n      } catch (error) {\n        console.error('Error fetching user grade:', error);\n        setUserGrade(1);\n      }\n    };\n\n    fetchUserGrade();\n  }, [showStatus]);\n\n  // // Load quiz data based on user's grade (existing)\n  useEffect(() => {\n    if (!userGrade) return;\n\n    const loadQuizData = async () => {\n      try {\n        const quizFileMap = {\n          'astronomy': 'astroquiz',\n          'basicsOfCoding': 'bcquiz',\n          'biochemistry': 'bioquiz',\n          'chemistry': 'chemquiz',\n          'circuits': 'circuitquiz',\n          'environmentalScience': 'envsciquiz',\n          'psychology': 'psycquiz',\n          'statistics': 'statquiz',\n          'zoology': 'zooquiz'\n        };\n        \n        const quizPrefix = quizFileMap[courseKey] || 'quiz';\n        \n        let quizFile;\n        if (userGrade >= 1 && userGrade <= 2) {\n          quizFile = `/assets/${quizPrefix}-grade1-2.json`;\n        } else if (userGrade >= 3 && userGrade <= 4) {\n          quizFile = `/assets/${quizPrefix}-grade3-4.json`;\n        } else if (userGrade >= 5 && userGrade <= 6) {\n          quizFile = `/assets/${quizPrefix}-grade5-6.json`;\n        } else {\n          // Default fallback for grades outside 1-6 range\n          quizFile = `/assets/${quizPrefix}-grade1-2.json`;\n        }\n        \n        console.log(`Loading quiz from: ${quizFile} for grade ${userGrade}`);\n        \n        const response = await fetch(quizFile);\n        \n        if (!response.ok) {\n          console.log(`Primary fetch failed: ${response.status} ${response.statusText}`);\n          const fallbackResponse = await fetch(`/assets/${quizPrefix}.json`);\n          if (!fallbackResponse.ok) {\n            const otherGradeFile = userGrade <= 2 ? \n              `/assets/${quizPrefix}-grade5-6.json` : \n              `/assets/${quizPrefix}-grade1-2.json`;\n            const lastResortResponse = await fetch(otherGradeFile);\n            if (!lastResortResponse.ok) {\n              throw new Error(`No quiz file found. Tried: ${quizFile}, /assets/${quizPrefix}.json, ${otherGradeFile}`);\n            }\n            const lastResortData = await lastResortResponse.json();\n            processQuizData(lastResortData);\n            return;\n          }\n          const fallbackData = await fallbackResponse.json();\n          processQuizData(fallbackData);\n          return;\n        }\n        \n        const data = await response.json();\n        processQuizData(data);\n        \n      } catch (error) {\n        console.error('Error loading quiz data:', error);\n        setQuizNotFound(true);\n        setLoading(false);\n      }\n    };\n\n    loadQuizData();\n  }, [userGrade, courseKey]);\n\n  // Process quiz data and calculate max possible points (existing)\n  const processQuizData = (quizData) => {\n    console.log('Quiz data loaded:', quizData);\n    \n    setQuestions(quizData.questions || []);\n    setQuizTitle(quizData.title || 'Quiz');\n    \n    const maxPoints = (quizData.questions || []).reduce((total, question) => {\n      return total + (question.score || 1);\n    }, 0);\n    \n    setMaxPossiblePoints(maxPoints);\n    console.log(`Max possible points: ${maxPoints}`);\n  };\n\n  // Fetch user progress data (existing)\n  useEffect(() => {\n    if (!userGrade) return;\n    \n    const fetchUserProgress = async () => {\n      try {\n        console.log('Fetching user progress data...');\n        const response = await call_api(null, \"points\", \"GET\");\n        \n        if (response) {\n          console.log('User progress data received:', JSON.stringify(response, null, 2));\n          setUserProgress(response);\n          \n          if (response.courses && \n              response.courses[courseKey] && \n              response.courses[courseKey].lessons && \n              response.courses[courseKey].lessons[lessonNumber] && \n              response.courses[courseKey].lessons[lessonNumber].activities && \n              response.courses[courseKey].lessons[lessonNumber].activities.quiz) {\n            \n            const quizData = response.courses[courseKey].lessons[lessonNumber].activities.quiz;\n            console.log('Existing quiz data found:', quizData);\n            \n            if (quizData.completed) {\n              setPointsEarned(quizData.earned || 0);\n              setCorrectAnswers(quizData.correctAnswers || 0);\n              setPercentCorrect(quizData.percentCorrect || 0);\n              \n              if (showStatus) {\n                showStatus(`Your best score: ${quizData.earned} points`, 5000);\n              }\n            }\n          }\n          \n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error fetching course progress:', err);\n        setLoading(false);\n      }\n    };\n\n    fetchUserProgress();\n  }, [courseKey, lessonNumber, showStatus, userGrade]);\n\n  // Handle answer selection (existing)\n  const handleAnswerChange = (questionIndex, optionIndex) => {\n    setSelectedAnswers({\n      ...selectedAnswers,\n      [questionIndex]: optionIndex,\n    });\n  };\n\n  // ðŸ†• Live-save answers on change\nuseEffect(() => {\n  if (Object.keys(selectedAnswers).length === 0 || !questions.length) return;\n\n  const savePartialQuiz = async () => {\n    try {\n      // Prepare answers array\n      const quizAnswers = questions.map((question, idx) => ({\n        questionId: `${courseKey}_${lessonNumber}_q${idx + 1}`,\n        selectedAnswer: question.options[selectedAnswers[idx]] || \"No answer selected\",\n      }));\n\n      // Send to backend partial-save endpoint\n      const response = await call_api(\n        { answers: quizAnswers, attemptNumber: 1 }, \n        `studentresponses/${courseKey}/lesson/${lessonNumber}/quiz/partial`,\n        \"POST\"\n      );\n\n      if (response?.success) {\n        console.log(\"âœ… Partial quiz saved:\", quizAnswers);\n      } else {\n        console.warn(\"âŒ Partial quiz save failed\");\n      }\n    } catch (err) {\n      console.error(\"âŒ Error saving partial quiz:\", err);\n    }\n  };\n\n  const timeout = setTimeout(savePartialQuiz, 500); // debounce to avoid spamming\n  return () => clearTimeout(timeout);\n}, [selectedAnswers, questions, courseKey, lessonNumber]);\n\n\n  // Calculate score and update points on quiz submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    \n    // Calculate points earned using actual question weights\n    let earnedPoints = 0;\n    let correctCount = 0;\n    \n    questions.forEach((question, questionIndex) => {\n      const isCorrect = selectedAnswers[questionIndex] === question.correctAnswerIndex;\n      if (isCorrect) {\n        correctCount++;\n        earnedPoints += question.score || 1;\n      }\n    });\n    \n    const percentCorrect = Math.round((correctCount / questions.length) * 100);\n    console.log(`Quiz results: ${correctCount}/${questions.length} correct (${percentCorrect}%)`);\n    console.log(`Points earned: ${earnedPoints}/${maxPossiblePoints}`);\n    \n    setCorrectAnswers(correctCount);\n    setPercentCorrect(percentCorrect);\n    setPointsEarned(earnedPoints);\n    setShowResults(true);\n\n    await saveQuizResponsesToDB(earnedPoints, correctCount, percentCorrect);\n    \n    // ðŸ†• UPDATED: Report quiz failure to Physical Classroom system\n    await reportQuizFailureToPhysicalClassroom(earnedPoints, correctCount, percentCorrect);\n    \n    // Only update backend if new score is higher than previous\n    const previousPoints = userProgress?.courses?.[courseKey]?.lessons?.[lessonNumber]?.activities?.quiz?.earned || 0;\n    console.log(`Previous best score: ${previousPoints} points`);\n    \n    if (earnedPoints > previousPoints) {\n      console.log(`New high score! Updating backend with ${earnedPoints} points`);\n      await updateBackend(earnedPoints, correctCount, percentCorrect);\n      showStatus(`âœ“ New high score: ${earnedPoints} points!`, 3000);\n    } else if (earnedPoints === previousPoints) {\n      console.log('Score matches previous best. Not updating backend.');\n      showStatus(\"You matched your previous score!\", 3000);\n    } else {\n      console.log('Score is lower than previous best. Not updating backend.');\n      showStatus(`Previous best: ${previousPoints} points`, 3000);\n    }\n  };\n  \n  // Update points in backend (existing)\n  const updateBackend = async (earnedPoints, correctCount, percentCorrect) => {\n    if (!userProgress) {\n      console.error('No user progress data available. Cannot update backend.');\n      return;\n    }\n    \n    try {\n      setSavingPoints(true);\n      showStatus(\"Saving quiz results...\");\n      \n      const updatedProgress = JSON.parse(JSON.stringify(userProgress));\n      \n      if (!updatedProgress.courses[courseKey]) {\n        updatedProgress.courses[courseKey] = { \n          title: courseKey,\n          coursePoints: 0, \n          completed: false,\n          lessons: {}\n        };\n      }\n      \n      if (!updatedProgress.courses[courseKey].lessons[lessonNumber]) {\n        updatedProgress.courses[courseKey].lessons[lessonNumber] = { \n          title: lessonNumber,\n          lessonPoints: 0, \n          completed: false,\n          activities: {} \n        };\n      }\n      \n      if (!updatedProgress.courses[courseKey].lessons[lessonNumber].activities) {\n        updatedProgress.courses[courseKey].lessons[lessonNumber].activities = {};\n      }\n      \n      if (!updatedProgress.courses[courseKey].lessons[lessonNumber].activities.quiz) {\n        updatedProgress.courses[courseKey].lessons[lessonNumber].activities.quiz = {\n          title: quizTitle,\n          type: \"quiz\",\n          completed: false,\n          points: maxPossiblePoints,\n          extraPoints: 0,\n          questionsCount: questions.length,\n          correctAnswers: 0,\n          percentCorrect: 0,\n          earned: 0,\n          isDynamic: true\n        };\n      }\n      \n      const quizData = updatedProgress.courses[courseKey].lessons[lessonNumber].activities.quiz;\n      quizData.completed = true;\n      quizData.correctAnswers = correctCount;\n      quizData.percentCorrect = percentCorrect;\n      quizData.earned = earnedPoints;\n      quizData.questionsCount = questions.length;\n      quizData.points = maxPossiblePoints;\n      \n      console.log(`Quiz completed: ${earnedPoints}/${maxPossiblePoints} points from ${questions.length} questions`);\n      \n      let lessonPoints = 0;\n      const activities = updatedProgress.courses[courseKey].lessons[lessonNumber].activities;\n      \n      Object.keys(activities).forEach(activityKey => {\n        const points = activities[activityKey].earned || 0;\n        lessonPoints += points;\n      });\n      \n      updatedProgress.courses[courseKey].lessons[lessonNumber].lessonPoints = lessonPoints;\n      \n      const videoComplete = updatedProgress.courses[courseKey].lessons[lessonNumber].activities.video?.completed || \n                        (updatedProgress.courses[courseKey].lessons[lessonNumber].activities.video?.percentWatched >= 95);\n      \n      updatedProgress.courses[courseKey].lessons[lessonNumber].completed = videoComplete;\n      \n      let coursePoints = 0;\n      Object.values(updatedProgress.courses[courseKey].lessons).forEach(lesson => {\n        coursePoints += lesson.lessonPoints || 0;\n      });\n      \n      updatedProgress.courses[courseKey].coursePoints = coursePoints;\n      \n      let totalPoints = 0;\n      Object.values(updatedProgress.courses).forEach(course => {\n        totalPoints += course.coursePoints || 0;\n      });\n      \n      updatedProgress.totalPoints = totalPoints;\n      \n      console.log('Updated progress to be sent to backend:', JSON.stringify(updatedProgress, null, 2));\n      \n      const response = await call_api(updatedProgress, \"points\", \"POST\");\n      \n      if (response) {\n        setUserProgress(updatedProgress);\n        showStatus(\"âœ“ Quiz results saved!\", 3000);\n      } else {\n        throw new Error(\"No response from API\");\n      }\n    } catch (error) {\n      console.error(\"Error updating points:\", error);\n      showStatus(\"âŒ Error saving quiz results\", 3000);\n    } finally {\n      setSavingPoints(false);\n    }\n  };\n\n  // ðŸ†• UPDATED: Report quiz failure to Physical Classroom system\n  const reportQuizFailureToPhysicalClassroom = async (earnedPoints, correctCount, percentCorrect) => {\n    // Only report if score is below 70% (can be adjusted)\n    if (percentCorrect >= 70) {\n      console.log(`Quiz passed with ${percentCorrect}%. No failure report needed.`);\n      return;\n    }\n    \n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.log('No auth token found. Cannot report quiz failure.');\n        return;\n      }\n      \n      const decoded = jwtDecode(token);\n      const studentId = decoded.id;\n      \n      console.log(`Reporting quiz failure: ${percentCorrect}% on ${quizTitle}`);\n      \n      // ðŸ†• UPDATED: Use correct field names for Physical Classroom backend\n      const failureData = {\n        studentId: studentId,\n        course: courseKey,           // âœ… Use 'course' not 'courseName'\n        lesson: lessonNumber,        // âœ… Use 'lesson' not 'lessonNumber'  \n        activityTitle: quizTitle,    // âœ… Use 'activityTitle' not 'quizTitle'\n        score: earnedPoints,         // âœ… Add actual score\n        maxScore: maxPossiblePoints  // âœ… Add max possible score\n      };\n      \n      console.log('Physical Classroom quiz failure data:', failureData);\n      \n      // Send to Physical Classroom notification system\n      const response = await call_api(failureData, 'notifications/quiz-failure', 'POST');\n      \n      if (response) {\n        console.log('âœ… Quiz failure reported to teachers successfully');\n        showStatus(\"Teachers have been notified to provide additional help\", 4000);\n      } else {\n        console.log('Quiz failure report sent but no response received');\n      }\n      \n    } catch (error) {\n      console.error('Error reporting quiz failure to Physical Classroom:', error);\n      // Don't show error to student - this is background functionality\n    }\n  };\n  \n  // Cleanup on unmount (existing)\n  useEffect(() => {\n    return () => {\n      if (statusTimeoutRef) {\n        clearTimeout(statusTimeoutRef);\n      }\n    };\n  }, [statusTimeoutRef]);\n\n  if (loading) {\n    return (\n      <div className=\"quiz-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading quiz content...</p>\n      </div>\n    );\n  }\n\n  if (quizNotFound) {\n    return (\n      <div className=\"quiz-container\">\n        <h2>Quiz Not Available</h2>\n        <p>Sorry, the quiz for this course is not available at the moment.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"quiz-container\">\n      <h2>{quizTitle}</h2>\n      \n      <div className=\"quiz-info\">\n        <p>Grade Level: {userGrade}</p>\n        <p>Total Questions: {questions.length}</p>\n        <p>Maximum Points: {maxPossiblePoints}</p>\n      </div>\n      \n      {/* Previous best score banner (existing) */}\n      {!showResults && userProgress?.courses?.[courseKey]?.lessons?.[lessonNumber]?.activities?.quiz?.completed && (\n        <div className=\"previous-score-banner\">\n          <div className=\"score-info\">\n            <p className=\"previous-score-text\">\n              <span className=\"previous-label\">Your best score:</span> \n              <span className=\"previous-value\">{userProgress.courses[courseKey].lessons[lessonNumber].activities.quiz.earned} points</span>\n              <span className=\"previous-details\">\n                ({userProgress.courses[courseKey].lessons[lessonNumber].activities.quiz.correctAnswers} of {userProgress.courses[courseKey].lessons[lessonNumber].activities.quiz.questionsCount} correct)\n              </span>\n            </p>\n          </div>\n        </div>\n      )}\n      \n      {/* Status message notification (existing) */}\n      {statusMessage && (\n        <div className=\"status-notification\" style={{\n          position: 'fixed',\n          top: '150px',\n          right: '20px',\n          padding: '10px 15px',\n          backgroundColor: statusMessage.includes(\"Error\") ? 'rgba(231, 76, 60, 0.8)' : \n                           statusMessage.includes(\"Teachers have been notified\") ? 'rgba(255, 152, 0, 0.9)' : '#357717',\n          color: 'white',\n          borderRadius: '5px',\n          fontWeight: 'bold',\n          zIndex: 1000,\n          boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\n          animation: 'fadeIn 0.3s ease-out',\n          fontSize: '16px',\n          maxWidth: '300px'\n        }}>\n          {statusMessage.includes(\"Teachers have been notified\") && <span style={{ marginRight: '8px' }}>ðŸŽ“</span>}\n          {statusMessage}\n        </div>\n      )}\n      \n      {showResults && (\n        <div className=\"quiz-results\">\n          <div className=\"results-summary\">\n            <div className=\"result-row\">\n              <span className=\"result-label\">Correct answers:</span> \n              <span className=\"result-value\">{correctAnswers} out of {questions.length}</span>\n              <span className=\"result-percentage\">({percentCorrect}%)</span>\n            </div>\n            <div className=\"result-row\">\n              <span className=\"result-label\">Points earned:</span>\n              <span className=\"result-value\">{pointsEarned} out of {maxPossiblePoints} points</span>\n            </div>\n            {/* ðŸ†• Show if teachers were notified */}\n            {percentCorrect < 70 && (\n              <div className=\"result-row\" style={{ \n                marginTop: '10px', \n                padding: '8px', \n                backgroundColor: '#fff3cd', \n                border: '1px solid #ffeaa7',\n                borderRadius: '4px',\n                fontSize: '14px'\n              }}>\n                <span style={{ color: '#856404' }}>\n                  ðŸŽ“ Your teachers have been notified to provide additional help with this topic.\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n      \n      {questions.length > 0 ? (\n        <form onSubmit={handleSubmit}>\n          {questions.map((q, questionIndex) => (\n            <div key={questionIndex} className=\"quiz-question\">\n              <p>\n                <strong>Question {questionIndex + 1}</strong> ({q.score || 1} point{(q.score || 1) > 1 ? 's' : ''})\n              </p>\n              <p>{q.question}</p>\n              {q.options.map((option, optionIndex) => {\n                const isCorrect = optionIndex === q.correctAnswerIndex;\n                const isSelected = selectedAnswers[questionIndex] === optionIndex;\n                const isIncorrect = isSelected && !isCorrect;\n                \n                return (\n                  <label\n                    key={optionIndex}\n                    style={{\n                      backgroundColor: showResults\n                        ? isCorrect\n                          ? 'lightgreen'\n                          : isIncorrect\n                          ? 'salmon'\n                          : 'transparent'\n                        : 'transparent',\n                    }}\n                    className={showResults && isCorrect ? 'correct-answer' : ''}\n                  >\n                    <input\n                      type=\"radio\"\n                      name={`question-${questionIndex}`}\n                      value={optionIndex}\n                      onChange={() => handleAnswerChange(questionIndex, optionIndex)}\n                      disabled={showResults}\n                      checked={selectedAnswers[questionIndex] === optionIndex}\n                    />\n                    {option}\n                  </label>\n                );\n              })}\n            </div>\n          ))}\n          {!showResults && (\n            <button type=\"submit\" disabled={Object.keys(selectedAnswers).length !== questions.length}>\n              Submit Quiz\n            </button>\n          )}\n          {showResults && (\n            <div className=\"quiz-complete-container\">\n              <div className=\"quiz-complete-message\">\n                Quiz completed! {pointsEarned > (userProgress?.courses?.[courseKey]?.lessons?.[lessonNumber]?.activities?.quiz?.earned || 0) ? \n                  \"New high score saved!\" : \n                  \"Your best score is still saved.\"}\n              </div>\n              <button \n                onClick={() => {\n                  setShowResults(false);\n                  setSelectedAnswers({});\n                }}\n                className=\"retake-quiz-button\"\n              >\n                Retake Quiz\n              </button>\n            </div>\n          )}\n        </form>\n      ) : (\n        <p>Quiz data could not be loaded.</p>\n      )}\n    </div>\n  );\n};\n\nQuiz.propTypes = {\n  courseKey: PropTypes.string.isRequired,\n  lessonNumber: PropTypes.string.isRequired\n};\n\nexport default Quiz;","// api-config.js\n// Centralized API base URL configuration for prod and dev.\n\n// Manual switch: set to 'dev' or 'prod'\nexport const API_ENV = 'prod'; // change to 'prod' for production\n\nconst BASES = {\n  prod: 'https://core-server-nine.vercel.app/api',\n  dev: 'http://localhost:3000/api'\n};\n\nexport const API_BASE_URL = BASES[API_ENV].replace(/\\/+$/,'');\n\nexport const buildApiUrl = (path = '') => {\n  const sanitizedPath = String(path || '').replace(/^\\/+/, '');\n  return `${API_BASE_URL}/${sanitizedPath}`;\n};\n\nexport default API_BASE_URL;\n\n\n","import axios from 'axios';\nimport { buildApiUrl } from '../config/api-config';\nimport { jwtDecode } from 'jwt-decode';\n\nfunction authHeaders() {\n  const token = localStorage.getItem('token');\n  const headers = { 'Content-Type': 'application/json' };\n  if (token) headers['Authorization'] = `Bearer ${token}`;\n  return headers;\n}\n\nexport async function getCurrentUser() {\n  const token = localStorage.getItem('token');\n  if (!token) return { success: false };\n\n  try {\n    await axios.post(buildApiUrl('auth/verify'), {}, { headers: authHeaders() });\n    // If verify succeeded, try to decode minimal user info from token\n    let decodedUser = null;\n    try {\n      decodedUser = jwtDecode(token);\n    } catch (_) {\n      // ignore decode errors; still treat as authenticated\n    }\n    return {\n      success: true,\n      dashboardData: decodedUser ? { user: decodedUser } : undefined,\n    };\n  } catch (e) {\n    return { success: false };\n  }\n}\n\nexport async function login(payload) {\n  const res = await axios.post(buildApiUrl('auth/login'), payload, { headers: { 'Content-Type': 'application/json' } });\n  return res.data;\n}\n\nexport async function logout() {\n  // If backend supports explicit logout; otherwise, caller should clear token locally\n  const res = await axios.post(buildApiUrl('auth/logout'), {}, { headers: authHeaders() }).catch(() => ({ data: { success: true } }));\n  return res.data;\n}\n\nexport async function signup(payload) {\n  const res = await axios.post(buildApiUrl('auth/signup'), payload, { headers: { 'Content-Type': 'application/json' } });\n  return res.data;\n}\n\n\n"],"names":["handleTokenExpiration","response","data","_data$message","_data$message2","_data$message3","_data$error","_data$error2","status","message","toLowerCase","includes","error","localStorage","removeItem","currentPath","window","location","pathname","returnUrl","encodeURIComponent","href","call_api","payload","target","method","url","buildApiUrl","token","getItem","headers","fetchOptions","body","JSON","stringify","fetch","then","async","json","statusText","Error","ok","Footer","_jsx","className","children","_jsxs","rel","FaFacebook","size","style","color","marginRight","FaLinkedin","FaTiktok","FaInstagram","FaTwitter","marginTop","textDecoration","_ref","overlayText","Navbar","check","setCheck","useState","click","setClick","setColor","activeDropdown","setActiveDropdown","navigate","useNavigate","addEventListener","changeColor","scrollY","scrollToTop","scrollTo","toggleDropdown","index","innerWidth","useEffect","getCurrentUser","success","catch","Link","to","src","logo","alt","onClick","updateOnline","e","preventDefault","handleClick","prevState","FaTimes","FaBars","_userProgress$courses7","_userProgress$courses8","_userProgress$courses9","_userProgress$courses10","_userProgress$courses11","_userProgress$courses12","_userProgress$courses13","_userProgress$courses14","_userProgress$courses15","_userProgress$courses16","_userProgress$courses17","_userProgress$courses18","courseKey","lessonNumber","questions","setQuestions","selectedAnswers","setSelectedAnswers","showResults","setShowResults","quizTitle","setQuizTitle","userProgress","setUserProgress","loading","setLoading","pointsEarned","setPointsEarned","correctAnswers","setCorrectAnswers","percentCorrect","setPercentCorrect","savingPoints","setSavingPoints","statusMessage","setStatusMessage","statusTimeoutRef","setStatusTimeoutRef","userGrade","setUserGrade","maxPossiblePoints","setMaxPossiblePoints","quizNotFound","setQuizNotFound","total","setTotal","showStatus","useCallback","duration","arguments","length","undefined","clearTimeout","timeoutId","setTimeout","userId","jwtDecode","id","userResponse","gradeLevel","console","fetchUserGrade","quizPrefix","quizFile","log","fallbackResponse","otherGradeFile","lastResortResponse","lastResortData","processQuizData","fallbackData","loadQuizData","quizData","title","maxPoints","reduce","question","score","courses","lessons","activities","quiz","completed","earned","err","fetchUserProgress","Object","keys","timeout","quizAnswers","map","idx","questionId","selectedAnswer","options","answers","attemptNumber","warn","updateBackend","earnedPoints","correctCount","_updatedProgress$cour","_updatedProgress$cour2","updatedProgress","parse","coursePoints","lessonPoints","type","points","extraPoints","questionsCount","isDynamic","forEach","activityKey","videoComplete","video","percentWatched","values","lesson","totalPoints","course","reportQuizFailureToPhysicalClassroom","studentId","failureData","activityTitle","maxScore","position","top","right","padding","backgroundColor","borderRadius","fontWeight","zIndex","boxShadow","animation","fontSize","maxWidth","border","onSubmit","_userProgress$courses","_userProgress$courses2","_userProgress$courses3","_userProgress$courses4","_userProgress$courses5","_userProgress$courses6","event","questionIndex","correctAnswerIndex","Math","round","quizAttemptData","correct","submittedAt","Date","saveResponse","saveQuizResponsesToDB","previousPoints","q","option","optionIndex","isCorrect","isIncorrect","name","value","onChange","handleAnswerChange","disabled","checked","API_BASE_URL","replace","sanitizedPath","String","authHeaders","axios","post","decodedUser","_","dashboardData","user"],"sourceRoot":""}