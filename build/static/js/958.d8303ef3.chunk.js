(self.webpackChunkstemz_new=self.webpackChunkstemz_new||[]).push([[958],{2768:e=>{e.exports={call_api:function(e,s,t){const r="https://core-server-nine.vercel.app/api/"+s,n=localStorage.getItem("token"),o={"Content-Type":"application/json"};n&&(o.Authorization=`Bearer ${n}`);const i={method:t,headers:o};return["POST","PUT","PATCH","DELETE"].includes(t)&&e&&(i.body=JSON.stringify(e)),fetch(r,i).then((async e=>{let s;try{s=await e.json()}catch(t){s={message:e.statusText||"Unknown error",status:e.status}}if(((e,s)=>{var t,r,n,o,i;if(401===e.status||403===e.status||(null===s||void 0===s||null===(t=s.message)||void 0===t?void 0:t.toLowerCase().includes("token"))||(null===s||void 0===s||null===(r=s.message)||void 0===r?void 0:r.toLowerCase().includes("unauthorized"))||(null===s||void 0===s||null===(n=s.message)||void 0===n?void 0:n.toLowerCase().includes("expired"))||(null===s||void 0===s||null===(o=s.error)||void 0===o?void 0:o.toLowerCase().includes("token"))||(null===s||void 0===s||null===(i=s.error)||void 0===i?void 0:i.toLowerCase().includes("unauthorized"))){localStorage.removeItem("token");const e=window.location.pathname,s=encodeURIComponent(e),t=encodeURIComponent("Your session has expired. Please log in again.");return window.location.href=`/login?returnUrl=${s}&message=${t}`,!0}return!1})(e,s)){const t=new Error("Token expired - redirecting to login");throw t.response={status:e.status,statusText:e.statusText,data:s},t}if(!e.ok){const t=new Error(`HTTP ${e.status}: ${e.statusText}`);throw t.response={status:e.status,statusText:e.statusText,data:s},t}return s}))}}},9288:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(5043),n=t(3153);const o=t.p+"static/media/fractionmenu.0ec06a26e61d192eec2b.png";var i=t(3216),a=t(2768),l=t(579);const d={salads:[{name:"Strawberry Blueberry Salad",price:9},{name:"Banana Mandarin Salad",price:11},{name:"Arugula Mandarin Salad",price:15}],mainMeals:[{name:"Pizza",price:18},{name:"BLT Sandwich",price:21},{name:"Sushi",price:24}],desserts:[{name:"Chocolate Bar",price:6},{name:"Ice Cream Scoop",price:10},{name:"Dozen Doughnuts",price:17}]},c={salads:30,mainMeals:20,desserts:45},p=[{id:1,text:"What is the original price of Sushi?",correctAnswer:"24.00",answerPrefix:"$",answerSuffix:""},{id:2,text:"How much does a Banana Mandarin Salad cost after the 30% discount?",correctAnswer:"7.70",answerPrefix:"$",answerSuffix:""},{id:3,text:"If you buy one Ice Cream Scoop and one Pizza, what is your total cost after discounts?",correctAnswer:"19.90",answerPrefix:"$",answerSuffix:""}];function x(){const e=(0,i.Zp)(),[s,t]=(0,r.useState)({salad:"",mainMeal:"",dessert:""}),[x,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(0),[f,m]=(0,r.useState)({}),[b,y]=(0,r.useState)(!1),[w,v]=(0,r.useState)(null),[j,S]=(0,r.useState)(!0),[k,C]=(0,r.useState)(!1),[R,T]=(0,r.useState)(!1),[F,A]=(0,r.useState)(0),[z,M]=(0,r.useState)(""),P="lesson3",I="statistics",B=(0,r.useRef)(null),L=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;M(e),B.current&&clearTimeout(B.current),B.current=setTimeout((()=>M("")),s)};(0,r.useEffect)((()=>{(async()=>{if(localStorage.getItem("token"))try{const s=await(0,a.call_api)(null,"auth/verify","POST");s&&s.success?(C(!0),S(!1)):(localStorage.removeItem("token"),e("/login"))}catch(s){console.error("Token verification error:",s),localStorage.removeItem("token"),e("/login")}else e("/login")})()}),[e]),(0,r.useEffect)((()=>{if(!k)return;(async()=>{try{const e=await(0,a.call_api)(null,"points","GET");if(e){if(v(e),e.courses&&e.courses[I]){const s=e.courses[I].lessons[P];if(s&&s.activities&&s.activities.worksheet){const e=s.activities.worksheet.completed||!1,t=s.activities.worksheet.earned||0;T(e),A(t)}}S(!1)}}catch(e){console.error("Error fetching course progress:",e),S(!1)}})()}),[k,I,P]);const E=e=>{const s=p.find((s=>s.id===e)),t=f[e]||"";return Math.abs(parseFloat(t)-parseFloat(s.correctAnswer))<.01},$=()=>p.filter((e=>E(e.id))).length;return j?(0,l.jsx)("div",{style:{minHeight:"100vh",background:"white",margin:0,padding:"32px",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},children:(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #357717",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 2s linear infinite",margin:"0 auto 20px"}}),(0,l.jsx)("p",{children:"Loading worksheet content..."}),(0,l.jsx)("style",{children:"\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          "})]})}):(0,l.jsxs)("div",{style:{minHeight:"100vh",background:"white",margin:"0",padding:"32px",fontFamily:"Arial, sans-serif",position:"relative"},children:[z&&(0,l.jsx)("div",{style:{position:"fixed",top:"150px",right:"20px",padding:"10px 15px",backgroundColor:z.includes("Error")?"rgba(231, 76, 60, 0.8)":"#357717",color:"white",borderRadius:"5px",fontWeight:"bold",zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.2)",animation:"fadeIn 0.3s ease-out",fontSize:"16px"},children:z}),(0,l.jsx)("button",{onClick:()=>{window.history.back()},style:{position:"absolute",top:"20px",left:"20px",color:"white",border:"none",borderRadius:"50%",background:x?"#3cb371":"#357717",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",fontSize:"36px",fontWeight:"bold",transform:x?"scale(0.9)":"scale(1)"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:"\u2190"}),(0,l.jsxs)("div",{style:{maxWidth:"896px",margin:"0 auto"},children:[(0,l.jsx)("img",{src:n,alt:"STEMZ Learning",style:{maxWidth:"300px",display:"block",margin:"0 auto 30px"}}),(0,l.jsx)("h1",{style:{color:"#254E17",fontSize:"48px",marginBottom:"10px",fontFamily:"Orbitron, sans-serif",textAlign:"center"},children:"Fraction Restaurant"}),(0,l.jsx)("h2",{style:{color:"#357717",fontSize:"36px",marginBottom:"30px",fontFamily:"Orbitron, sans-serif",textAlign:"center"},children:"Statistics: Lesson 3"}),(0,l.jsxs)("div",{style:{marginBottom:"20px",padding:"10px 15px",borderRadius:"5px",backgroundColor:"#f0f0f0",textAlign:"center",borderLeft:R?"4px solid #3cb371":"4px solid #ccc"},children:[(0,l.jsx)("span",{style:{fontWeight:"bold",marginRight:"15px",color:"#333333"},children:"Worksheet:"}),(0,l.jsx)("span",{style:{color:R?"#3cb371":"#666666",fontWeight:R?"bold":"normal"},children:R?"Completed":"Not Completed"}),(0,l.jsxs)("span",{style:{marginLeft:"15px",color:"#555555"},children:["(",F," ",1===F?"point":"points",")"]})]}),(0,l.jsxs)("div",{style:{marginBottom:"30px",lineHeight:"1.6",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,l.jsx)("h3",{style:{marginTop:0},children:"Materials Needed:"}),(0,l.jsx)("ul",{children:(0,l.jsx)("li",{children:"Scratch paper"})}),(0,l.jsx)("h3",{children:"Instructions:"}),(0,l.jsx)("p",{children:"Look at the menu from Fractions Restaurant and answer the questions below. The menu shows original prices, and all items are discounted:"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:["All salads are ",c.salads,"% off"]}),(0,l.jsxs)("li",{children:["Main meals are ",c.mainMeals,"% off"]}),(0,l.jsxs)("li",{children:["Desserts are ",c.desserts,"% off"]})]}),(0,l.jsx)("img",{src:o,alt:"Fraction Restaurant Menu",style:{width:"100%",maxWidth:"600px",margin:"20px auto",display:"block",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}})]}),(0,l.jsxs)("div",{style:{backgroundColor:"#e8f5e9",borderRadius:"15px",padding:"20px",marginBottom:"30px"},children:[(0,l.jsx)("h3",{children:"Restaurant Menu"}),(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsxs)("h4",{style:{display:"flex",alignItems:"center"},children:["Salads",(0,l.jsxs)("span",{style:{backgroundColor:"#ff4444",color:"white",padding:"5px 10px",borderRadius:"15px",marginLeft:"10px",fontSize:"14px"},children:[c.salads,"% OFF!"]})]}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},children:d.salads.map((e=>(0,l.jsxs)("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"10px",textAlign:"center"},children:[(0,l.jsx)("div",{children:e.name}),(0,l.jsxs)("div",{style:{fontWeight:"bold",color:"#357717"},children:["$",e.price.toFixed(2)]})]},e.name)))})]}),(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsxs)("h4",{style:{display:"flex",alignItems:"center"},children:["Main Meals",(0,l.jsxs)("span",{style:{backgroundColor:"#ff4444",color:"white",padding:"5px 10px",borderRadius:"15px",marginLeft:"10px",fontSize:"14px"},children:[c.mainMeals,"% OFF!"]})]}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},children:d.mainMeals.map((e=>(0,l.jsxs)("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"10px",textAlign:"center"},children:[(0,l.jsx)("div",{children:e.name}),(0,l.jsxs)("div",{style:{fontWeight:"bold",color:"#357717"},children:["$",e.price.toFixed(2)]})]},e.name)))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{style:{display:"flex",alignItems:"center"},children:["Desserts",(0,l.jsxs)("span",{style:{backgroundColor:"#ff4444",color:"white",padding:"5px 10px",borderRadius:"15px",marginLeft:"10px",fontSize:"14px"},children:[c.desserts,"% OFF!"]})]}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},children:d.desserts.map((e=>(0,l.jsxs)("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"10px",textAlign:"center"},children:[(0,l.jsx)("div",{children:e.name}),(0,l.jsxs)("div",{style:{fontWeight:"bold",color:"#357717"},children:["$",e.price.toFixed(2)]})]},e.name)))})]})]}),(0,l.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"20px",borderRadius:"10px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,l.jsx)("h3",{children:"Answer the following questions:"}),p.map((e=>(0,l.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[(0,l.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:[e.id,". ",e.text]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[e.answerPrefix&&(0,l.jsx)("span",{style:{marginRight:"5px"},children:e.answerPrefix}),(0,l.jsx)("input",{type:"number",step:"0.01",value:f[e.id]||"",onChange:s=>{return t=e.id,r=s.target.value,void(b||m((e=>({...e,[t]:r}))));var t,r},style:{padding:"8px 12px",fontSize:"16px",borderRadius:"5px",border:"1px solid #ddd",width:"120px"},disabled:b}),e.answerSuffix&&(0,l.jsx)("span",{style:{marginLeft:"5px"},children:e.answerSuffix})]}),b&&(0,l.jsx)("div",{style:{marginTop:"10px",padding:"8px 12px",borderRadius:"5px",backgroundColor:E(e.id)?"rgba(60, 179, 113, 0.2)":"rgba(207, 52, 52, 0.2)",color:E(e.id)?"#3cb371":"#CF3434",fontWeight:"bold"},children:E(e.id)?"\u2713 Correct!":`\u2717 The correct answer is ${e.answerPrefix}${e.correctAnswer}${e.answerSuffix}.`})]},e.id)))]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"40px"},children:[(0,l.jsx)("button",{onClick:()=>{y(!0);let e=0;p.forEach((s=>{const t=f[s.id]||"";Math.abs(parseFloat(t)-parseFloat(s.correctAnswer))<.01&&e++}));const s=Math.round(e/p.length*5);T(!0),A(s),setTimeout((()=>{var e;const t={...w};t.courses||(t.courses={}),t.courses[I]||(t.courses[I]={lessons:{},title:"Statistics"}),t.courses[I].lessons||(t.courses[I].lessons={}),t.courses[I].lessons[P]||(t.courses[I].lessons[P]={activities:{},title:"Fraction Restaurant"}),t.courses[I].lessons[P].activities||(t.courses[I].lessons[P].activities={}),t.courses[I].lessons[P].activities.worksheet={completed:!0,earned:s,points:5,type:"worksheet",title:"Fractions & Discounts"},t.courses[I].lessons[P].lessonPoints=s,null!==(e=t.courses[I].lessons[P].activities.video)&&void 0!==e&&e.completed&&(t.courses[I].lessons[P].completed=!0);let r=0;Object.values(t.courses[I].lessons).forEach((e=>{r+=e.lessonPoints||0})),t.courses[I].coursePoints=r;let n=0;Object.values(t.courses).forEach((e=>{n+=e.coursePoints||0})),t.totalPoints=n,(0,a.call_api)(t,"points","POST").then((e=>{e&&(v(t),L(`\u2713 Progress saved! You've earned ${s} points!`,3e3))})).catch((e=>{console.error("Update error:",e),L("\u274c Error saving progress",3e3)}))}),500)},disabled:b,style:{padding:"12px 25px",fontSize:"16px",backgroundColor:b?"#cccccc":"#3cb371",color:"white",border:"none",borderRadius:"5px",cursor:b?"default":"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.3s ease"},children:"Check Answers"}),(0,l.jsx)("button",{onClick:()=>{t({salad:"",mainMeal:"",dessert:""}),g(0),m({}),y(!1)},style:{padding:"12px 25px",fontSize:"16px",backgroundColor:"#CF3434",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.3s ease"},children:"Reset"})]}),b&&(0,l.jsxs)("div",{style:{marginTop:"30px",textAlign:"center",padding:"15px",backgroundColor:$()===p.length?"#e8f5e9":"#ffebee",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",marginBottom:"30px"},children:[(0,l.jsx)("p",{style:{color:$()===p.length?"#3cb371":"#CF3434",fontSize:"18px",fontWeight:"bold"},children:0===$()?"No correct answers. Review the material and try again!":$()===p.length?"Congratulations! All answers are correct!":`You got ${$()} out of ${p.length} questions correct.`}),(0,l.jsxs)("p",{style:{marginBottom:0},children:["You earned ",F," out of 5 possible points."]})]})]}),(0,l.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes fadeOut {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n        }\n      "})]})}},3153:(e,s,t)=>{"use strict";e.exports=t.p+"static/media/logo.c9017c166767dbbf195a.png"}}]);
//# sourceMappingURL=958.d8303ef3.chunk.js.map